---
title: Set up direct deep linking
description: Configure direct deep linking for your app.
slug: en/sdk/ios/features/deep-links/direct
sidebar-position: 2
versions:
   - label: v5
     value: v5
     default: true
   - label: v4
     value: v4
redirects:
   v4: /en/sdk/ios/v4/features/deep-links/direct
---

<br />
## Overview

Direct deep links send users to specific content in your app when they already have the app installed on their device.

iOS provides several methods for receiving deep links depending on your app's lifecycle and architecture.

Within these methods, you'll use Adjust's `processAndResolve(_:callback:)` method to do the following:

- Record attribution from deep link clicks
- Resolve [short branded links](https://help.adjust.com/en/article/short-branded-links) to their full URLs
- Pass through all other links as is

<CodeBlock title="Method signature">
   ```objc + (void)processAndResolveDeeplink:(nonnull ADJDeeplink *)deeplink
   withCompletionHandler:(nonnull ADJResolvedDeeplinkBlock)completion; ```
</CodeBlock>

Your app needs to handle the processed links using its own navigation logic, which has to meet two key requirements:

1. Handle Adjust branded links (`example.go.link`) and your universal links (`example.com`) equivalently. If using a domain allowlist, add your Adjust branded domain.
2. Handle universal links and app scheme deep links equivalently, as Adjust converts universal links to app scheme format when iOS doesn't support them. For example, these links should navigate to the same screen:

- Adjust branded link: https://example.go.link/summer-clothes?promo=beach
- App scheme deep link: example://summer-clothes?promo=beach

Please follow the steps in the section that corresponds to the type of app you have:

- [UIKit apps using AppDelegate lifecycle](#uikit-apps-using-appdelegate-lifecycle)
- [UIKit apps using SceneDelegate lifecycle](#uikit-apps-using-scenedelegate-lifecycle)
- [SwiftUI apps using AppDelegate lifecycle](#swiftui-apps-using-appdelegate-lifecycle)
- [SwiftUI apps using SceneDelegate lifecycle](#swiftui-apps-using-scenedelegate-lifecycle)
   <br />

## UIKit apps using AppDelegate lifecycle {#uikit-apps-using-appdelegate-lifecycle}

Update your AppDelegate to implement iOS direct deep linking methods.

<Tabs>
<Tab title="Swift" sync="swift">

```swift
// Receive universal link when app is installed,
// and app is in "not running" or background state,
// and user clicks link or another app opens link using
// UIApplication.open(_:options:completionHandler:).
func application(
  _ application: UIApplication,
  continue userActivity: NSUserActivity,
  restorationHandler: @escaping ([UIUserActivityRestoring]?) -> Void
) -> Bool {
  if userActivity.activityType == NSUserActivityTypeBrowsingWeb,
    let incomingLink = userActivity.webpageURL {
    // Send incoming deep link to Adjust's servers for attribution
    // and retrieve full URL if short branded link.
    // If not, retrieve original link.
    let deeplink = ADJDeeplink(deeplink: incomingLink)
    Adjust.processAndResolve(deeplink) { processedLinkString in
      guard let processedLink = URL(string: processedLinkString) else { return }

      // TO DO: Parse the processedLink URL components
      // (example: path, query params) and
      // navigate to the appropriate screen in your app
    }
  }
  return true
}

// Receive app scheme deep link when app is installed, and either:
// - App is in "not running" or background state, and user clicks link or
//   another app opens link using UIApplication.open(_:options:completionHandler:), or
// - App is in foreground state and opens its own link using
//   UIApplication.open(_:options:completionHandler:).
func application(
  _ application: UIApplication,
  open incomingLink: URL,
  options: [UIApplication.OpenURLOptionsKey: Any] = [:]
) -> Bool {
  // Send incoming deep link to Adjust's servers for attribution
  // and retrieve full URL if short branded link.
  // If not, retrieve original link.
  let deeplink = ADJDeeplink(deeplink: incomingLink)
  Adjust.processAndResolve(deeplink) { processedLinkString in
    guard let processedLink = URL(string: processedLinkString) else { return }

    // TO DO: Parse the processedLink URL components
    // (example: path, query params) and
    // navigate to the appropriate screen in your app
  }
  return true
}
```

</Tab>
<Tab title="Objective-C" sync="objc">

```objc
// Receive universal link when app is installed,
// and app is in "not running" or background state,
// and user clicks link or another app opens link using
// [UIApplication openURL:options:completionHandler:].
- (BOOL)application:(UIApplication *)application
    continueUserActivity:(NSUserActivity *)userActivity
    restorationHandler:(void (^)(NSArray<id<UIUserActivityRestoring>> *_Nullable))
      restorationHandler {
  if ([userActivity.activityType
       isEqualToString:NSUserActivityTypeBrowsingWeb]) {
    NSURL *incomingLink = userActivity.webpageURL;
    if (incomingLink) {
      // Send incoming deep link to Adjust's servers for attribution
      // and retrieve full URL if short branded link.
      // If not, retrieve original link.
      ADJDeeplink *deeplink = [[ADJDeeplink alloc] initWithDeeplink:incomingLink];
      [Adjust processAndResolveDeeplink:deeplink
                           callback:^(NSString *processedLinkString) {
        NSURL *processedLink = [NSURL URLWithString:processedLinkString];
        if (!processedLink) return;

        // TO DO: Parse the processedLink URL components
        // (example: path, query params) and
        // navigate to the appropriate screen in your app
      }];
    }
  }
  return YES;
}

// Receive app scheme deep link when app is installed, and either:
// - App is in "not running" or background state, and user clicks link or
//   another app opens link using [UIApplication
//   openURL:options:completionHandler:], or
// - App is in foreground state and opens its own link using
//   [UIApplication openURL:options:completionHandler:].
- (BOOL)application:(UIApplication *)app
            openURL:(NSURL *)incomingLink
            options:(NSDictionary<UIApplicationOpenURLOptionsKey, id> *)options {
  // Send incoming deep link to Adjust's servers for attribution
  // and retrieve full URL if short branded link.
  // If not, retrieve original link.
  ADJDeeplink *deeplink = [[ADJDeeplink alloc] initWithDeeplink:incomingLink];
  [Adjust processAndResolveDeeplink:deeplink
                         callback:^(NSString *processedLinkString) {
    NSURL *processedLink = [NSURL URLWithString:processedLinkString];
    if (!processedLink) return;

    // TO DO: Parse the processedLink URL components
    // (example: path, query params) and
    // navigate to the appropriate screen in your app
  }];
  return YES;
}
```

</Tab>
</Tabs>

## UIKit apps using SceneDelegate lifecycle {#uikit-apps-using-scenedelegate-lifecycle}

Update your SceneDelegate to implement iOS direct deep linking methods.

<Tabs>
<Tab title="Swift" sync="swift">

```swift
// Receive universal link or app scheme deep link
// when app is installed, and app is in "not running" state, and either:
// - User clicks link, or
// - Another app opens link using
// UIApplication.open(_:options:completionHandler:).
func scene(
  _ scene: UIScene,
  willConnectTo session: UISceneSession,
  options connectionOptions: UIScene.ConnectionOptions
) {
  // Handle incoming universal link
  if let userActivity = connectionOptions.userActivities.first,
     userActivity.activityType == NSUserActivityTypeBrowsingWeb,
     let incomingLink = userActivity.webpageURL {
    // Send incoming deep link to Adjust's servers for attribution
    // and retrieve full URL if short branded link.
    // If not, retrieve original link.
    let deeplink = ADJDeeplink(deeplink: incomingLink)
    Adjust.processAndResolve(deeplink) { processedLinkString in
      guard let processedLink = URL(string: processedLinkString) else { return }

      // TO DO: Parse the processedLink URL components
      // (example: path, query params) and
      // navigate to the appropriate screen in your app
    }
  }
  // Handle incoming app scheme deep link
  else if let urlContext = connectionOptions.urlContexts.first {
    let incomingLink = urlContext.url
    // Send incoming deep link to Adjust's servers for attribution
    // and retrieve full URL if short branded link.
    // If not, retrieve original link.
    let deeplink = ADJDeeplink(deeplink: incomingLink)
    Adjust.processAndResolve(deeplink) { processedLinkString in
      guard let processedLink = URL(string: processedLinkString) else { return }

      // TO DO: Parse the processedLink URL components
      // (example: path, query params) and
      // navigate to the appropriate screen in your app
    }
  }
}

// Receive universal link when app is installed,
// and app is in background state, and either:
// - User clicks link, or
// - Another app opens link using
// UIApplication.open(_:options:completionHandler:).
func scene(_ scene: UIScene, continue userActivity: NSUserActivity) {
  if userActivity.activityType == NSUserActivityTypeBrowsingWeb,
     let incomingLink = userActivity.webpageURL {
    // Send incoming deep link to Adjust's servers for attribution
    // and retrieve full URL if short branded link.
    // If not, retrieve original link.
    let deeplink = ADJDeeplink(deeplink: incomingLink)
    Adjust.processAndResolve(deeplink) { processedLinkString in
      guard let processedLink = URL(string: processedLinkString) else { return }

      // TO DO: Parse the processedLink URL components
      // (example: path, query params) and
      // navigate to the appropriate screen in your app
    }
  }
}

// Receive app scheme deep link when app is installed, and either:
// - App is in background state, and user clicks link or another app opens link using
// UIApplication.open(_:options:completionHandler:), or
// - App is in foreground and opens its own link using
// UIApplication.open(_:options:completionHandler:).
func scene(
  _ scene: UIScene,
  openURLContexts URLContexts: Set<UIOpenURLContext>
) {
  if let urlContext = URLContexts.first {
    let incomingLink = urlContext.url
    // Send incoming deep link to Adjust's servers for attribution
    // and retrieve full URL if short branded link.
    // If not, retrieve original link.
    let deeplink = ADJDeeplink(deeplink: incomingLink)
    Adjust.processAndResolve(deeplink) { processedLinkString in
      guard let processedLink = URL(string: processedLinkString) else { return }

      // TO DO: Parse the processedLink URL components
      // (example: path, query params) and
      // navigate to the appropriate screen in your app
    }
  }
}
```

</Tab>
<Tab title="Objective-C" sync="objc">

```objc
// Receive universal link or app scheme deep link
// when app is installed, and app is in "not running" state, and either:
// - User clicks link, or
// - Another app opens link using
// [UIApplication openURL:options:completionHandler:].
- (void)scene:(UIScene *)scene
    willConnectToSession:(UISceneSession *)session
                options:(UISceneConnectionOptions *)connectionOptions {
  // Handle incoming universal link
  if (connectionOptions.userActivities.count > 0) {
    NSUserActivity *userActivity =
        connectionOptions.userActivities.allObjects.firstObject;
    if ([userActivity.activityType
         isEqualToString:NSUserActivityTypeBrowsingWeb] &&
        userActivity.webpageURL) {
      NSURL *incomingLink = userActivity.webpageURL;
      // Send incoming deep link to Adjust's servers for attribution
      // and retrieve full URL if short branded link.
      // If not, retrieve original link.
      ADJDeeplink *deeplink = [[ADJDeeplink alloc] initWithDeeplink:incomingLink];
      [Adjust processAndResolveDeeplink:deeplink
                             callback:^(NSString *processedLinkString) {
        NSURL *processedLink = [NSURL URLWithString:processedLinkString];
        if (!processedLink) return;

        // TO DO: Parse the processedLink URL components
        // (example: path, query params) and
        // navigate to the appropriate screen in your app
      }];
    }
  }
  // Handle incoming app scheme deep link
  else if (connectionOptions.URLContexts.count > 0) {
    UIOpenURLContext *urlContext =
        connectionOptions.URLContexts.allObjects.firstObject;
    NSURL *incomingLink = urlContext.URL;
    // Send incoming deep link to Adjust's servers for attribution
    // and retrieve full URL if short branded link.
    // If not, retrieve original link.
    ADJDeeplink *deeplink = [[ADJDeeplink alloc] initWithDeeplink:incomingLink];
    [Adjust processAndResolveDeeplink:deeplink
                           callback:^(NSString *processedLinkString) {
      NSURL *processedLink = [NSURL URLWithString:processedLinkString];
      if (!processedLink) return;

      // TO DO: Parse the processedLink URL components
      // (example: path, query params) and
      // navigate to the appropriate screen in your app
    }];
  }
}

// Receive universal link when app is installed,
// and app is in background state, and either:
// - User clicks link, or
// - Another app opens link using
// [UIApplication openURL:options:completionHandler:].
- (void)scene:(UIScene *)scene
    continueUserActivity:(NSUserActivity *)userActivity {
  if ([userActivity.activityType
       isEqualToString:NSUserActivityTypeBrowsingWeb]) {
    NSURL *incomingLink = userActivity.webpageURL;
    // Send incoming deep link to Adjust's servers for attribution
    // and retrieve full URL if short branded link.
    // If not, retrieve original link.
    ADJDeeplink *deeplink = [[ADJDeeplink alloc] initWithDeeplink:incomingLink];
    [Adjust processAndResolveDeeplink:deeplink
                           callback:^(NSString *processedLinkString) {
      NSURL *processedLink = [NSURL URLWithString:processedLinkString];
      if (!processedLink) return;

      // TO DO: Parse the processedLink URL components
      // (example: path, query params) and
      // navigate to the appropriate screen in your app
    }];
  }
}

// Receive app scheme deep link when app is installed, and either:
// - App is in background state, and user clicks link or another app opens link
//   using [UIApplication openURL:options:completionHandler:], or
// - App is in foreground and opens its own link using
//   [UIApplication openURL:options:completionHandler:].
- (void)scene:(UIScene *)scene
    openURLContexts:(NSSet<UIOpenURLContext *> *)URLContexts {
  UIOpenURLContext *urlContext = URLContexts.allObjects.firstObject;
  if (urlContext) {
    NSURL *incomingLink = urlContext.URL;
    // Send incoming deep link to Adjust's servers for attribution
    // and retrieve full URL if short branded link.
    // If not, retrieve original link.
    ADJDeeplink *deeplink = [[ADJDeeplink alloc] initWithDeeplink:incomingLink];
    [Adjust processAndResolveDeeplink:deeplink
                           callback:^(NSString *processedLinkString) {
      NSURL *processedLink = [NSURL URLWithString:processedLinkString];
      if (!processedLink) return;

      // TO DO: Parse the processedLink URL components
      // (example: path, query params) and
      // navigate to the appropriate screen in your app
    }];
  }
}
```

</Tab>
</Tabs>

## SwiftUI apps using AppDelegate lifecycle {#swiftui-apps-using-appdelegate-lifecycle}

If you haven't already done so, create an `AppDelegate.swift` file in your project's main directory and reference it in your main application file (for example: `App.swift` as shown below). This is required to handle app lifecycle events and Adjust SDK integration. Also implement the below iOS method, which receives all direct deep links.

<Tabs>
<Tab title="Swift" sync="swift">

```swift
import Adjust
import SwiftUI

@main
struct MyApp: App {
  @UIApplicationDelegateAdaptor(AppDelegate.self) var appDelegate

  var body: some Scene {
    WindowGroup {
      ContentView()
        // Receive universal link or app scheme deep link
        // when app is installed, and app is in "not running" or background state,
        // and either:
        // - User clicks link, or
        // - Another app opens link using
        // UIApplication.open(_:options:completionHandler:) or SwiftUI's openURL.
        //
        // Receive app scheme deep link when app is installed,
        // and app is in foreground and opens its own link using
        // UIApplication.open(_:options:completionHandler:) or SwiftUI's openURL.
        .onOpenURL { incomingLink in
          // Send incoming deep link to Adjust's servers for attribution
          // and retrieve full URL if short branded link.
          // If not, retrieve original link.
          let deeplink = ADJDeeplink(deeplink: incomingLink)
          Adjust.processAndResolve(deeplink) { processedLinkString in
            guard let processedLink = URL(string: processedLinkString) else { return }

            // TO DO: Parse the processedLink URL components
            // (example: path, query params) and
            // navigate to the appropriate screen in your app
          }
        }
    }
  }
}
```

</Tab>
</Tabs>

## SwiftUI apps using SceneDelegate lifecycle {#swiftui-apps-using-scenedelegate-lifecycle}

Follow the instructions in the [SwiftUI apps using AppDelegate lifecycle](#swiftui-apps-using-appdelegate-lifecycle) section. In addition, implement the following iOS direct deep linking method in your SceneDelegate.

<Tabs>
<Tab title="Swift" sync="swift">

```swift
// Receive universal link or app scheme deep link
// when app is installed, and app is in "not running" state, and either:
// - User clicks link, or
// - Another app opens link using
// UIApplication.open(_:options:completionHandler:) or SwiftUI's openURL.
func scene(
  _ scene: UIScene,
  willConnectTo session: UISceneSession,
  options connectionOptions: UIScene.ConnectionOptions
) {
  // Handle incoming universal link
  if let userActivity = connectionOptions.userActivities.first,
     userActivity.activityType == NSUserActivityTypeBrowsingWeb,
     let incomingLink = userActivity.webpageURL {
    // Send incoming deep link to Adjust's servers for attribution
    // and retrieve full URL if short branded link.
    // If not, retrieve original link.
    let deeplink = ADJDeeplink(deeplink: incomingLink)
    Adjust.processAndResolve(deeplink) { processedLinkString in
      guard let processedLink = URL(string: processedLinkString) else { return }

      // TO DO: Parse the processedLink URL components
      // (example: path, query params) and
      // navigate to the appropriate screen in your app
    }
  }
  // Handle incoming app scheme deep link
  else if let urlContext = connectionOptions.urlContexts.first {
    let incomingLink = urlContext.url
    // Send incoming deep link to Adjust's servers for attribution
    // and retrieve full URL if short branded link.
    // If not, retrieve original link.
    let deeplink = ADJDeeplink(deeplink: incomingLink)
    Adjust.processAndResolve(deeplink) { processedLinkString in
      guard let processedLink = URL(string: processedLinkString) else { return }

      // TO DO: Parse the processedLink URL components
      // (example: path, query params) and
      // navigate to the appropriate screen in your app
    }
  }
}
```

</Tab>
</Tabs>
