---
title: 发送回传信息
description: 使用这些方法向 Adjust 发送回传信息。
slug: zh/sdk/ios/features/callbacks
versions:
   - label: v5
     value: v5
     default: true
   - label: v4
     value: v4
redirects:
   v4: /zh/sdk/ios/v4/features/callbacks
---

设置回传来在 SDK 向 Adjust 发送信息时触发函数。您可以针对 **会话** 和 **事件** 设置回传。

<Callout type="important">

您必须在初始化 SDK **之前** 注册回传。

</Callout>

## 会话回传 {#session-callbacks}

设置会话回传来在 SDK 向 Adjust 发送会话信息时触发函数。您可以创建 **success** 回传和 **failure** 回传。SDK 向 Adjust 服务器发送信息时会触发 **success** 回传。SDK 向 Adjust 发送信息时出现问题会触发 **failure** 回传。

会话回传可访问响应数据对象。您可以在回传函数中使用其属性。

<Table>

| 属性           | 数据类型       | 描述                                |
| -------------- | -------------- | ----------------------------------- |
| `message`      | `NSString`     | 服务器信息或者 SDK 记录的错误信息。 |
| `timestamp`    | `NSString`     | 来自 Adjust 服务器的时间戳。        |
| `adid`         | `NSString`     | 由 Adjust 提供的设备唯一标识符。    |
| `jsonResponse` | `NSDictionary` | 带服务器响应的 JSON 对象。          |
| `willRetry`    | `BOOL`         | 指示包发送失败后是否再次尝试发送。  |

</Table>

### success 回传 {#success-callbacks}

<CodeBlock title="方法签名">

```objc
- (void)adjustSessionTrackingSucceeded:(nullable ADJSessionSuccess *)sessionSuccessResponseData;
```

</CodeBlock>

设置 success 回传来在 SDK 记录到会话时触发函数。

<Tabs>
<Tab title="Swift" sync="swift">

```swift
func adjustSessionTrackingSucceeded(_ sessionSuccessResponseData: ADJSessionSuccess?) {
}
```

</Tab>
<Tab title="Objective-C" sync="objc">

```objc
- (void)adjustSessionTrackingSucceeded:(ADJSessionSuccess *)sessionSuccessResponseData {
}
```

</Tab>
</Tabs>

### failure 回传 {#failure-callbacks}

<CodeBlock title="方法签名">

```objc
- (void)adjustSessionTrackingFailed:(nullable ADJSessionFailure *)sessionFailureResponseData;
```

</CodeBlock>

设置 failure 回传来在 SDK 未能记录到会话时触发函数。

<Tabs>
<Tab title="Swift" sync="swift">

```swift
func adjustSessionTrackingFailed(_ sessionFailureResponseData: ADJSessionFailure?) {
}
```

</Tab>
<Tab title="Objective-C" sync="objc">

```objc
- (void)adjustSessionTrackingFailed:(ADJSessionFailure *)sessionFailureResponseData {
}
```

</Tab>
</Tabs>

## 事件回传 {#event-callbacks}

设置事件回传来在 SDK 向 Adjust 发送事件信息时触发函数。您可以创建 **success** 回传和 **failure** 回传。SDK 向 Adjust 服务器发送信息时会触发 **success** 回传。SDK 向 Adjust 发送信息时出现问题会触发 **failure** 回传。

事件回传可访问响应数据对象。您可以在回传函数中使用其属性。

<Table>

| 属性           | 数据类型       | 描述                                |
| -------------- | -------------- | ----------------------------------- |
| `message`      | `NSString`     | 服务器信息或者 SDK 记录的错误信息。 |
| `timestamp`    | `NSString`     | 来自 Adjust 服务器的时间戳。        |
| `adid`         | `NSString`     | 由 Adjust 提供的设备唯一标识符。    |
| `eventToken`   | `NSString`     | 事件识别码                          |
| `callbackId`   | `NSString`     | 事件对象上设置的自定义回传 ID       |
| `jsonResponse` | `NSDictionary` | 带服务器响应的 JSON 对象。          |
| `willRetry`    | `BOOL`         | 指示包发送失败后是否再次尝试发送。  |

</Table>

### success 回传 {#success-callbacks-1}

<CodeBlock title="方法签名">

```objc
- (void)adjustEventTrackingSucceeded:(nullable ADJEventSuccess *)eventSuccessResponseData;
```

</CodeBlock>

设置 success 回传来在 SDK 记录到事件时触发函数。

<Tabs>
<Tab title="Swift" sync="swift">

```swift
func adjustEventTrackingSucceeded(_ eventSuccessResponseData: ADJEventSuccess?) {
}
```

</Tab>
<Tab title="Objective-C" sync="objc">

```objc
- (void)adjustEventTrackingSucceeded:(ADJEventSuccess *)eventSuccessResponseData {
}
```

</Tab>
</Tabs>

### failure 回传 {#failure-callbacks-1}

<CodeBlock title="方法签名">

```objc
- (void)adjustEventTrackingFailed:(nullable ADJEventFailure *)eventFailureResponseData;
```

</CodeBlock>

设置 failure 回传来在 SDK 未能记录到事件时触发函数。

<Tabs>
<Tab title="Swift" sync="swift">

```swift
func adjustEventTrackingFailed(_ eventFailureResponseData: ADJEventFailure?) {
}
```

</Tab>
<Tab title="Objective-C" sync="objc">

```objc
- (void)adjustEventTrackingFailed:(ADJEventFailure *)eventFailureResponseData {
}
```

</Tab>
</Tabs>
