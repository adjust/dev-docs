---
title: "SDK Signature library integration"
description: "Add the Signature library to your Unity app to secure communications between the Adjust SDK and Adjust's servers."
slug: "en/sdk/unity/integrations/signature-library"
---
Adjust's SDK Signature library is designed to be a standalone plugin for the Adjust SDK. This means you don’t need to change any of your code or change how you use the Adjust SDK in your app. Once you install the plugin, all requests made by the Adjust SDK will continue to work as expected.

[事前準備](before-you-begin)
------------------------

To integrate the Signature library into your Unity app, ensure the following:

* The Android API version in use is **21 or greater** .
* お使いのAdjust SDKバージョンが **4\.37\.2以降** であること。
* If you use Proguard, you must use the exact same Proguard configuration for both the Signature library and the Adjust SDK.

### [Migrating from Signature v1 or v2 library](migrating-from-signature-v1-or-v2-library)

以前にシグネチャーv1またはシグネチャーv2を使用していた場合は、シグネチャーライブラリを連携する前に以前のバージョンを削除する必要があります。これを行うには、以下の手順に従ってください。

* If you previously integrated Signature v1, remove any code that calls to signature functions in your project.
* If you previously integrated Signature v2, remove the Signature v2 library from your project.

[連携の手順](integration-steps)
--------------------------

Follow these steps to integrate the Signature library in your Unity project.

1. Fetch the [Signature library content from GitHub](https://github.com/adjust/adjust_signature_sdk/releases/latest).
2. Place the Android archive \(`.aar`\) file in the `Assets/Adjust/Android` directory inside your Unity project.
3. Place the iOS static framework \(`.a`\) in the `Assets/Adjust/iOS` directory inside your Unity project.

That’s it\! The Signature library is now integrated into your project. Follow the steps in the next section to configure your digital certificates.

### [Set up your certificates in the Adjust suite](set-up-your-certificates-in-the-adjust-suite)

<callout type="note"> 

This step is only required if your app targets **Android** .
</Callout> 

アプリにシグネチャーライブラリを実装すると、Adjust SDKからAdjustに送信される全てのリクエストが署名されます。また、Adjust SDKは、署名証明書のフィンガープリントなどの関連情報をAdjustのサーバーに送信します。

A certificate fingerprint is a cryptographic hash of the public information held within a certificate. It can be used to verify the authenticity of an app.

The Signature library can’t verify the authenticity of your certificate fingerprints. The fingerprints need to be added to an allowlist in the Adjust Suite in order for requests containing them to be accepted by Adjust as authentic. To do this, you need to retrieve the certificate fingerprints and send them to Adjust.

#### [From a keystore](from-a-keystore)

If you use your own keystore, or if Android Studio generated a keystore for you, you can retrieve the certificate fingerprint by following these steps:

1. Find the keystore file \(`.jks`\) you used to sign **the release version of your app** . The keystore must be the one you used to sign the release version sent to the Google Play Store. If the keystore is different, your SDK requests will be rejected.

2. 以下のコマンドを実行して、キーをリストアップします。角括弧内の部分をお客様の情報に置き換えてください。

   ```console
   $ keytool -list -v -keystore <path/to/keystore.jks> -alias <your_key_alias id="sl-md0000000">
   ```

   This command prompts you for your keystore password. This is the password you defined when you generated the keystore.

   The final output looks like this:

   ```text
   Alias name: Key0
   Creation date: May 15, 2018
   Entry type: PrivateKeyEntry
   Certificate chain length: 1
   Certificate[1]:
   Owner: CN=[Adjust, GmbH.]
   Issuer: CN=[Adjust, GmbH.]
   Serial number: 642f1b62
   Valid from: Tue May 15 09:46:06 CEST 2018 until: Sat May 09
   09:46:06 CEST 2043
   Certificate fingerprints:
   MD5: E7:88:9F:8C:9D:F4:14:C1:CF:E8:4C:97:F3:F2:3A:E3
   SHA1:
   C4:BD:07:91:BC:09:F8:B6:15:CD:BC:A3:3F:BC:68:8B:C2:EF:4F:F5
   SHA256:
   55:FB:97:0F:46:0F:94:EC:07:EA:01:69:50:5A:20:3F:A0:91:60:A4:F
   1:33:58:EA:76:DC:54:9E:A7:6A:B9:1A
   Signature algorithm name: SHA256withRSA
   Subject Public Key Algorithm: 2048-bit RSA key
   Version: 3
   ```

3. Save the SHA\-1 fingerprint to [add to your allowlist in the Adjust Suite](#add-your-digital-certificate-fingerprints-to-adjusts-allowlist).

#### [From Google Play Internal App Sharing](from-google-play-internal-app-sharing)

If you use [Google Play Internal App Sharing](https://support.google.com/googleplay/android-developer/answer/9303479?hl=en), you need to send both your organization’s SHA\-1 certificate fingerprint and your Internal test certificate fingerprint to Adjust for allowlisting.

To extract the fingerprints:

1. Navigate to the Google Play Console and log in.
2. アプリを選択します。
3. Select **Release Management \-\-> App Releases \-\-> Manage internal app sharing > App certificates** .
4. Save the **SHA\-1 certificate fingerprint** for both the **Internal test certificate** and your organization’s keystore to [add to your allowlist in the Adjust Suite](#add-your-digital-certificate-fingerprints-to-adjusts-allowlist).

![A screenshot of the certficate page in Google Play Console](@images/sig-v3/google-play-internal-sharing.png)

#### [From Google Play App Signing](from-google-play-app-signing)

If you use [Google Play App Signing](https://support.google.com/googleplay/android-developer/answer/7384423?hl=en), you need to send both your organization’s SHA\-1 certificate fingerprint and your Internal test certificate fingerprint to Adjust for allowlisting.

To extract the fingerprints:

1. Navigate to the Google Play Console and log in.
2. アプリを選択します。
3. Select **Release Management > App Signing** .
4. Save the **SHA\-1 certificate fingerprint** for both the **App signing certificate** and **Upload certificate** to send to Adjust.

![A screenshot of the App signing page in the Google Play Console](@images/sig-v3/google-play-signing.png)

#### [From Huawei AppGallery App Signing](from-huawei-appgallery-app-signing)

If you use Huawei AppGallery App Signing, you need to send both your organization’s SHA\-1 certificate fingerprint and your Internal test certificate fingerprint to Adjust for allowlisting.
<callout type="note"> 

If you use your own signing certificate with Huawei AppGallery, follow the [instructions for retrieving your certificate fingerprint from a keystore](#from-a-keystore).
</Callout> 

To extract the fingerprints:

1. Navigate to the App Signing page in AppGallery Connect and download the App signing certificate \(`certificate.pem`\).

![A screenshot of the App Signing page in AppGallery Connect](@images/sig-v3/huawei-appgallery-signing.png)

2. Once you’ve downloaded the certificate, run the following command to output the SHA\-1 fingerprint of the certificate.

   ```console
   $ openssl x509 -fingerprint -in certificate.pem -noout -SHA1
   ```

   The output looks like this:

   ```text
   SHA1 Fingerprint=C4:BD:07:91:BC:09:F8:B6:15:CD:BC:A3:3F:BC:68:8B:C2:EF:4F:F5
   ```

3. Save the fingerprint to [add to your allowlist in the Adjust Suite](#add-your-digital-certificate-fingerprints-to-adjusts-allowlist)..

### [Add your digital certificate fingerprints to Adjust’s allowlist](add-your-digital-certificate-fingerprints-to-adjust-s-allowlist)

<callout type="note"> 

Remember to add all certificate fingerprints you want to use to the Adjust suite. This might include debug versions and versions for different stores.
</Callout> 

証明書のフィンガープリントを取得したら、以下を実行して許可リスト（ホワイトリスト）に追加してください。

1. Select your app in AppView to open the app details screen.
2. **不正防止（Protection）** タブを選択します。
3. Select the **Edit** button on the **Suspicious installs** section.
4. **Androidフィンガープリント（Android finterprinting）** セクションで、 **新規フィンガープリント（New fingerprint）** を選択します。
5. Paste the SHA\-1 fingerprint into the text box that appears.
6. **Add** を選択します。

これで、フィンガープリントがアプリで許可リストに登録されました。

[Test your app](test-your-app)
------------------------------

You can verify you have integrated the Signature library into your app using the [Adjust Testing Console](https://help.adjust.com/en/article/testing-console).
<callout type="important"> 

You must ensure that the Adjust SDK is running in **Sandbox mode** .
</Callout> 

To test your Signature library integration:

1. Fully delete your app from the test device to ensure the install information is sent.

2. デバイスに関する全ての情報を消去するには、テストコンソールを使用してデバイスに関する情報を削除します。 また、 Adjust Insightsアプリ（[iOS](https://apps.apple.com/us/app/adjust-insights/id1125517808)と[Android](https://play.google.com/store/apps/details?id=com.adjust.insights)でご利用可能）で取得したアプリの広告IDをパスすることで、forget\_deviceエンドポイントを使用することも可能です。 次の広告IDはいずれも使用できます：`adid` 、 `android_id` 、 `gps_adid` 、 `idfa` 、 `idfv` 、 `imei` 、 `oaid` 。

   The call looks like this:

   ```console
   $ curl -X POST 'https://app.adjust.com/forget_device?app_token={yourAppToken}&id={adid}'
   ```

3. Once you’ve cleared the device from the Testing Console, install the app on your test device and launch it to send install information to Adjust.

4. Input the test device’s advertising ID into the Testing Console to fetch the install event information. Check the following:

   1. The `SignatureVerificationResult` field should show a value of `Valid Signature`
   2. The `SignatureVersion` field should show a value of `3`

If these fields are present and contain the correct information, you have successfully integrated the Signature library. If the fields display any other values, review the integration steps again or contact [support@adjust.com](mailto:support@adjust.com) for further assistance.

これで、シグネチャーライブラリがアプリに連携されました。 [2回のアトリビューション期間が経過](https://help.adjust.com/en/article/attribution-windows)したら、 [SDKシグネチャーの検証](https://help.adjust.com/en/article/sdk-signature#enforce-signature-validation)を有効化して、署名されたリクエストのみがAdjustで受理されるようにしてください。

[トラブルシューティング](troubleshooting)
------------------------------

### [Unknown CPU Architecture in AdjustSigSdk.a](unknown-cpu-architecture-in-adjustsigsdk-a)

In Unity Editor 2018 and later, you may receive an error message containing **Unknown CPU Architecture** . This error message is shown when the Unity Editor tries to apply the iOS static framework \(`.a`\) to non\-iOS platforms. To fix the issue, select the `AdjustSigSdk.a` file and deselect all platforms except **iOS** in the **Import Settings** menu.

![A screenshot of the AdjustSdk Import Settings in Unity Editor](@images/sig-v3/unity-import-settings.png)

