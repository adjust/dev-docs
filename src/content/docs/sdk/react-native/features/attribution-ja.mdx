---
title: "アトリビューション情報の取得"
description: "Adjust SDKを使ってアトリビューションの変更を受信する"
slug: "en/sdk/react-native/features/attribution"
---
ユーザーがAdjustリンクをクリックすると、そのアトリビューション情報が更新されます。これは、ユーザーが[ディープリンク](https://help.adjust.com/en/article/deep-links)をクリックした場合に発生します。ユーザーのアトリビューションについての情報は、`AdjustAttribution`クラスに表示されます。

AdjustAttributionクラスのプロパティ
--------------------------

`AdjustAttribution`クラスには、デバイスの現在のアトリビューションステータスに関する詳細が含まれています。ユーザーの入力されていない値は全て`null`値として返されます。
<callout type="note"> 

以下の値は、[`AdjustConfig`インスタンスの`needsCost`プロパティ](/en/sdk/react-native/configuration#enable-cost-data-sending)が`true`になっている場合にのみアクセスできます：

* `costType`
* `costAmount`
* `costCurrency`

</Callout> <table> 

|          値          |  データタイプ  |                                          説明                                           |
|---------------------|----------|---------------------------------------------------------------------------------------|
| `trackerToken`      | `string` | デバイスが現在アトリビュートされているトラッカーのトークン                                                         |
| `trackerName`       | `string` | デバイスが現在アトリビュートされているトラッカーの名前                                                           |
| `network`           | `string` | デバイスが現在アトリビュートされているネットワークの名前                                                          |
| `campaign`          | `string` | デバイスが現在アトリビュートされているキャンペーンの名前                                                          |
| `adgroup`           | `string` | デバイスが現在アトリビュートされているアドグループの名前                                                          |
| `creative`          | `string` | デバイスが現在アトリビュートされているクリエイティブの名前                                                         |
| `clickLabel`        | `string` | インストールがタグされている[クリックラベル](https://help.adjust.com/en/article/user-rewards)              |
| `adid`              | `string` | デバイスに割り当てられた一意のAdjust ID                                                              |
| `costType`          | `string` | キャンペーン価格モデル（例：cpi）                                                                    |
| `costAmount`        | `number` | インストールのコスト                                                                            |
| `costCurrency`      | `string` | コストに関連する[3文字のISO 4217通貨コード](https://www.iban.com/currency-codes)                      |
| `fbInstallReferrer` | `string` | [Facebookインストールリファラー](https://developers.facebook.com/docs/app-ads/install-referrer/) |

</Table> 

アトリビューションが変更されたときに関数をトリガーする
---------------------------

```dart
typedef void AttributionCallback(AdjustAttribution attributionData);
AttributionCallback? attributionCallback;
```

SDKはアトリビューションの変更を受信し、更新を検出したときに関数を呼び出すことができます。コールバック関数を設定するには、関数を引数として`setAttributionCallbackListener`メソッドを呼び出します。
<callout type="important"> 

アプリ内でAdjust SDKを初期化する **前** に、`setAttributionCallbackListener`メソッドを呼び出す必要があります。
</Callout> 

```jsx
const adjustConfig = new AdjustConfig(appToken, environment);

adjustConfig.setAttributionCallbackListener(function (attribution) {
   // Printing all attribution properties.
   console.log("Attribution changed!");
   console.log(attribution.trackerToken);
   console.log(attribution.trackerName);
   console.log(attribution.network);
   console.log(attribution.campaign);
   console.log(attribution.adgroup);
   console.log(attribution.creative);
   console.log(attribution.clickLabel);
   console.log(attribution.adid);
   console.log(attribution.costType);
   console.log(attribution.costAmount);
   console.log(attribution.costCurrency);
   console.log(attribution.fbInstallReferrer);
});

Adjust.create(adjustConfig);
```

現在のアトリビューション情報を取得
-----------------

```ts
getAttribution: (callback: (attribution: AdjustAttribution) => void) => void
```

ユーザーがアプリをインストールすると、Adjustはそのインストールをキャンペーンにアトリビュートします。Adjust SDKでは、インストールのキャンペーンアトリビューションの詳細にアクセスすることができます。この情報を返すには、`getAttribution`メソッドを呼び出して、アトリビューション情報を`AdjustAttribution`オブジェクトとして返します。

```jsx
Adjust.getAttribution((attribution) => {
   console.log("Tracker token = " + attribution.trackerToken);
   console.log("Tracker name = " + attribution.trackerName);
   console.log("Network = " + attribution.network);
   console.log("Campaign = " + attribution.campaign);
   console.log("Adgroup = " + attribution.adgroup);
   console.log("Creative = " + attribution.creative);
   console.log("Click label = " + attribution.clickLabel);
   console.log("Adid = " + attribution.adid);
});
```

