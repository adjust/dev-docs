---
title: "設定"
description: "Adjust SDKを設定するには、このセクションのガイドに従ってください。"
slug: "ja/sdk/react-native/configuration"
sidebar-position: 1
---

Adjust SDKの動作を設定するには、このドキュメントに記載されたメソッドを使用してください。

## Configオブジェクトをインスタンス化する

```ts
constructor(appToken: string, environment: Environment)
```

Adjust SDKを設定するには、`AdjustConfig`オブジェクトをインスタンス化する必要があります。このオブジェクトには、Adjust SDKにパスする必要のある **読み取り専用** の設定オプションが含まれています。

Configオブジェクトをインスタンス化するには、新しい`AdjustConfig`インスタンスを作成して以下のパラメーターをパスしてください：

-  `appToken` \(`string`\): Your [Adjust app token](https://help.adjust.com/ja/article/app-token-and-reporting-currency#view-your-app-details).
-  `environment` \(`Environment`\): The environment you want to run the SDK in. Pass `AdjustConfig.EnvironmentSandbox` to run the SDK in sandbox mode for testing. Pass `AdjustConfig.EnvironmentProduction` to run the SDK in production mode for release.

```jsx
const adjustConfig = new AdjustConfig(
   "{YourAppToken}",
   AdjustConfig.EnvironmentSandbox,
);
//...
Adjust.create(adjustConfig);
```

## 読み取り専用の設定

**読み取り専用** の設定オプションは、SDKの初期化 **前に** `AdjustConfig`インスタンスで設定されます。これらのオプションは、SDKの実行中は変更できません。`Adjust.start()`を実行する前に、使用したいオプションを設定する必要があります。

### ログレベルを設定する

```ts
public setLogLevel(level: LogLevel): void
```

Adjust SDKは、さまざまな量の情報を返すために、設定可能なログレベルを提供しています。以下のログレベルが利用可能です。

<Table>

| logLevel                        | 説明                                                   |
| ------------------------------- | ------------------------------------------------------ |
| `AdjustConfig.LogLevelVerbose`  | ログをすべて有効化する                                 |
| `AdjustConfig.LogLevelDebug`    | デバッグのログを有効化する                             |
| `AdjustConfig.LogLevelInfo`     | 情報レベルのログのみを表示する（デフォルトオプション） |
| `AdjustConfig.LogLevelWarn`     | 情報ログを無効化する                                   |
| `AdjustConfig.LogLevelError`    | 警告レベル以下のログを無効化する                       |
| `AdjustConfig.LogLevelAssert`   | エラーレベル以下のログを無効化する                     |
| `AdjustConfig.LogLevelSuppress` | すべてのログを無効化する                               |

</Table>

`AdjustConfig`インスタンスの`setLogLevel`メソッドを以下のパラメーターで呼び出すことで、ログレベルを設定できます：

-  `logLevel` \(`LogLevel`\): The log level you want to use.

```jsx
const adjustConfig = new AdjustConfig(
   "{YourAppToken}",
   AdjustConfig.EnvironmentSandbox,
);
//...
adjustConfig.setLogLevel(AdjustConfig.LogLevelVerbose);
//...
Adjust.create(adjustConfig);
```

### 外部デバイスIDを設定する

```ts
public setExternalDeviceId(externalDeviceId: string): void
```

外部デバイスIDは、デバイスまたはユーザーに割り当てることができるカスタム値です。セッションやプラットフォームを横断してユーザーを認識することができます。また、ユーザーが新規インストールとして2度カウントされないように、ユーザーごとにインストールの重複を排除することも可能です。外部デバイスIDの使用を開始する際は、Adjustの担当者にお問い合わせください。

外部デバイスIDをデバイスのカスタム識別子として使用できます。これは、他のシステム上で継続性を保ちたい場合に役立ちます。以下のパラメーターを使用して、`setExternalDeviceId`メソッドを呼び出すプロパティを設定できます：

-  `externalDeviceId` \(`string`\): Your external device identifier. This value is **case sensitive** . If you have imported external device IDs, make sure the value you pass matches the imported value.

<Callout type="seealso">

詳細は、Adjustヘルプセンターの[外部デバイスIDのページ](https://help.adjust.com/ja/article/external-device-identifiers)をご覧ください。

</Callout>

```jsx
const adjustConfig = new AdjustConfig(
   "{YourAppToken}",
   AdjustConfig.EnvironmentSandbox,
);
//...
adjustConfig.setExternalDeviceId("{Your-External-Device-Id}");
//...
Adjust.create(adjustConfig);
```

外部デバイスIDをビジネスアナリティクスに使用する場合は、IDを[セッションコールバックパラメーター](/ja/sdk/flutter/features/session-parameters)としてパスすることができます。

既存の外部デバイスIDをAdjustにインポートすることが可能です。これにより、Adjustサーバーが今後のデータを既存のデバイス記録と一致させることができます。この設定をご希望の場合は、Adjustの担当者にお問い合わせください。

### デフォルトのリンクトークンを設定する

```ts
public setDefaultTracker(defaultTracker: string): void
```

アプリがデバイスにプリインストールされている場合、デフォルトのリンクトークンを設定できます。ユーザーがプリインストールされたアプリを初めて起動すると、インストールはデフォルトのリンクトークンにアトリビュートされます。デフォルトのリンクトークンを設定するには、次の引数を使用して`setDefaultTracker`メソッドを呼び出します：

-  `defaultTracker` \(`string`\): The [Adjust link token](https://help.adjust.com/ja/article/links#adjust-link-token) you want to record preinstalled installs against.

```jsx
const adjustConfig = new AdjustConfig(
   "{YourAppToken}",
   AdjustConfig.EnvironmentSandbox,
);
//...
adjustConfig.setDefaultTracker("{TrackerToken}");
//...
Adjust.create(adjustConfig);
```

### コストデータの送信を有効化する

```ts
public setNeedsCost(needsCost: boolean): void
```

デフォルトでは、Adjust SDKはユーザーのアトリビューションの一環としてコストデータを送信しません。コストデータの送信を有効化することで、このデータを送信するようにSDKを設定できます。コストデータの送信を有効化するには、次のパラメーターを使用して、configインスタンスで`setNeedsCost`メソッドを呼び出します：

-  `needsCost` \(`boolean`\): set to `true` to enable cost data sending or `false` to disable cost data sending.

コストデータには、ユーザーの[アトリビューション情報](/ja/sdk/react-native/features/attribution)でアクセスできます。

```jsx
const adjustConfig = new AdjustConfig(
   "{Your App Token}",
   AdjustConfig.EnvironmentSandbox,
);
adjustConfig.setLogLevel(AdjustLogLevel.Verbose);
adjustConfig.setNeedsCost(true);
```

### バックグランドでの計測機能を有効化する

```ts
public setSendInBackground(sendInBackground: boolean): void
```

デフォルトでは、アプリがバックグラウンドで動作している間、Adjust SDKはリクエストの送信を一時停止します。バックグランドでの計測機能を有効化することで、SDKがバックグランドでリクエストを送信するよう設定することが可能です。バックグランドでの計測機能を有効化するには、次のパラメーターを使用して、configインスタンスで`setSendInBackground`メソッドを呼び出します：

-  `sendInBackground` \(`boolean`\): Set to `true` to enable background sending or `false` to disable background sending.

```jsx
const adjustConfig = new AdjustConfig(appToken, environment);
//...
adjustConfig.setSendInBackground(true);
//...
Adjust.create(adjustConfig);
```

### イベントのバッファリングを有効化する

```ts
public setEventBufferingEnabled(eventBufferingEnabled: boolean): void
```

Adjust SDKは、ユーザーがアプリ内でイベントをトリガーすると、すぐにイベント情報を送信します。イベントバッファリングを有効にすることで、イベント情報をスケジュールに沿って送信することができます。イベントバッファリングは、デバイス上のローカルバッファにイベントを保存し、1分間に1回、全てのリクエストを送信します。

Configオブジェクトにはブーリアン`eventBufferingEnabled`プロパティが含まれており、それが動作を制御します。このプロパティを設定するには、次のパラメーターを使用して、configオブジェクトの`setEventBufferingEnabled`メソッドを呼び出します：

-  `eventBufferingEnabled` \(`boolean`\): Set to `true` to enable event buffering or `false` to disable event buffering.

```jsx
const adjustConfig = new AdjustConfig(
   "{YourAppToken}",
   AdjustConfig.EnvironmentSandbox,
);
//...
adjustConfig.setEventBufferingEnabled(true);
//...
Adjust.create(adjustConfig);
```

### SDKの起動を遅らせる

```ts
public setDelayStart(delayStart: number): void
```

By default, the Adjust SDK starts as soon as your app opens. If you want to send data that isn't available at launch in [session parameters](/ja/sdk/android/features/session-parameters), you can delay the start of the SDK. This can be helpful if you are sending information such as unique identifiers.

動作開始の遅延を設定するには、次の引数を使用して`setDelayStart`メソッドを呼び出します。

-  `delayStart` \(`number`\): The time \(in seconds\) by which to delay the start of the SDK. You can delay the start of the SDK by up to **10 seconds** .

```jsx
const adjustConfig = new AdjustConfig(
   "{YourAppToken}",
   AdjustConfig.EnvironmentSandbox,
);
//...
adjustConfig.setDelayStart(5.5);
//...
Adjust.create(adjustConfig);
```

## 動的設定

**動的** 設定オプションは、SDKのライフサイクル中に、ユーザーによるイベントやアクションに応じて変更されることがあります。

### オフラインモードに切り替える

```ts
setOfflineMode: (enabled: boolean) => void
```

<Callout type="important">

このオフラインモード設定は、セッション間では記憶されません。オフラインモードは、新規セッションの開始時に非有効化されます。

</Callout>

Adjust SDKは、イベントとセッションのデータをAdjustのサーバーにリアルタイムで送信します。SDKをオフラインモードにすると、情報の送信を一時停止することができます。オフラインモードでは、SDKは全てのデータをデバイスのローカルファイルに保存します。オフラインモードを無効にすると、SDKはこの情報をAdjustのサーバーに送信します。

以下の引数を使用して`setOfflineMode`メソッドを呼び出すことで、いつでもオフランモードに切り替えられます：

-  `enabled` \(`boolean`\): Set to `true` to enable offline mode or `false` to disable offline mode.

```jsx
Adjust.setOfflineMode(true);
```

### Pushトークンを設定する

```ts
setPushToken: (token: string) => void
```

Pushトークンは、[Audiences](https://help.adjust.com/ja/article/audiences)やクライアントコールバックに使用されます。また、[アンインストール・再インストール計測](https://help.adjust.com/ja/article/uninstalls-reinstalls)にも必要です。

Configオブジェクトは、`pushToken`を保管できる文字列pushTokenを含みます。このプロパティは、`setPushToken`メソッドと以下の引数を呼び出すことで、いつでも更新することが可能です：

-  `token` \(`string`\): Your push token.

<Callout type="note">

Web ViewからPushトークンにアクセスできる場合は、Javascriptで`setPushToken`メソッドを呼び出します。

</Callout>

```jsx
Adjust.setPushToken("YourPushNotificationToken");
```

### SDKを無効化または有効化する

<Callout type="important">

このメソッドを呼び出せるのは、初回セッションの後のみです。この設定は、セッション間で持続します。

</Callout>

```ts
setEnabled: (enabled: boolean) => void
```

Adjust SDKは、デフォルトでアプリが開いている時に実行されます。Adjust SDKを無効化または再有効化することで、計測を一時停止したり再起動したりすることができます。Adjust SDKを無効にすると、Adjustサーバーにデータが送信されなくなります。

以下の引数を使用して`setEnabled`メソッドを呼び出すことで、SDKをいつでも有効化または無効化できます：

-  `enabled` \(`boolean`\): Set to `true` to enable the SDK or `false` to disable the SDK.

```jsx
Adjust.setEnabled(false);
```

#### 有効化ステータスを確認する

```ts
isEnabled: (callback: (enabled: boolean) => void) => void
```

You can check if the Adjust SDK is enabled at any time by calling the `isEnabled` method. This method returns a `boolean` value indicating if the SDK is **enabled** \(`true`\) or **disabled** \(`false`\).

```jsx
Adjust.isEnabled();
```
