---
title: "서버 간(S2S) 보안"
description: "S2S 보안 기능을 통해 S2S 이벤트의 보안을 보장하고, 스푸핑 요청을 방지할 수 있습니다."
slug: "ko/api/s2s-api/security"
sidebar-position: 1
sidebar-label: "서버 간(S2S) 보안"
---

With Adjust's S2S Security feature, you can guarantee the security of your S2S events and protect against spoofed requests. Each S2S authentication incoming request must carry a token generated in your Adjust dashboard. Requests that don't carry a valid token are rejected by Adjust's servers.

## 시작에 앞서 {#before-you-begin}

시작하기 전에 알아야 할 사항은 다음과 같습니다.

<Callout type="warning">

S2S 보안은 Google 태그 매니저 이벤트 측정과 호환되지 않습니다. Google 태그 매니저 구성에서 Adjust의 S2S 인증 토큰을 사용하면 Google 태그 이벤트가 거부됩니다.

</Callout>

### 요구 사항 {#requirements}

-  [관리자 권한](https://help.adjust.com/ko/article/permission-levels)

## S2S 토큰 생성 {#create-an-s2s-token}

You must configure at least one token and specify its **scope** . Scopes define what actions you can take using a token. The following scopes are available:

-  **이벤트** : 이벤트 데이터 전송 권한을 부여합니다.
-  **세션** : 세션 데이터 전송 권한을 부여합니다.
-  **광고 매출** : 광고 매출 데이터 전송 권한을 부여합니다.
-  **GDPR** : grants the ability to authenticate the GDPR endpoint. The GDPR scope isn't available at token creation, but you can set it up in the [Enable S2S authentication](#enable-s2s-authentication) section.

새 범위 지정 토큰을 생성하려면 다음을 수행하시기 바랍니다.

1. **AppView** 에서 **모든 앱** 을 선택합니다.

2. 해당 앱을 선택합니다.

3. **Protection** 탭을 선택합니다.

4. **S2S 보안** 섹션 하단의 **S2S 보안 열기** 를 선택합니다.

   ![Adjust의 S2S 보안 페이지](@images/s2s/1-s2s-security.png)

5. Select **\+ New token** . A modal appears.

6. 모달창에 **토큰 이름** 을 입력합니다.

   !["새 토큰 추가" 모달](@images/s2s/2-add-token-modal.png)

7. **범위** 드롭다운에서 해당 토큰에 할당할 범위를 선택합니다. 각 토큰에 여러 범위를 선택할 수 있습니다.

   ![범위가 지정된 토큰 모달](@images/s2s/3-token-scope-modal.png)

8. **토큰 추가** 를 선택하고 토큰을 저장합니다.

9. **토큰 복사 후 종료** 를 선택하고 토큰을 복사합니다. 복사한 토큰을 개발자에게 보내 S2S 이벤트 요청에 추가합니다.

   !["토큰 복사 후 종료" 옵션이 포함된 모달](@images/s2s/4-copy-token.png)

각 토큰의 범위가 토큰 목록에 표시됩니다.

The **Enable S2S authentication** toggle is **OFF** by default. Follow the instructions in the next section to enable S2S authentication.

## Enable S2S authentication {#enable-s2s-authentication}

<Callout type="important">

개발자의 토큰 테스트 및 TAM\(테크니컬 어카운트 매니저\) 또는 [support@adjust.com](mailto:support@adjust.com)의 검증이 완료된 이후에만 S2S 인증을 활성화하시기 바랍니다.

</Callout>

After adding your scoped tokens, you need to enable S2S authentication for the selected scope endpoints. To enable S2S authentication, follow these steps:

1. **AppView** 에서 **모든 앱** 을 선택합니다.

2. 해당 앱을 선택합니다.

3. **Protection** 탭을 선택합니다.

4. **S2S 보안** 섹션 하단의 **S2S 보안 열기** 를 선택합니다.

5. Ensure you have at least one scoped token configured.

6. Switch the **Enable S2S authentication** toggle **ON** .

7. \(Optional\) You may also customize the authentication scopes by selecting the endpoint or endpoints to authenticate.

   ![An authentication scopes modal with scopes selected](@images/s2s/7-select-authentication-scopes.png)

8. **적용** 을 선택합니다.

You can modify authentication scopes at any time by selecting **Customize scopes** .

## 범위 지정 토큰 수정 {#modify-a-scoped-token}

기존 토큰의 범위를 수정하는 방법은 다음과 같습니다.

1. **AppView** 에서 **모든 앱** 을 선택합니다.

2. 해당 앱을 선택합니다.

3. **Protection** 탭을 선택합니다.

4. **S2S 보안** 섹션 하단의 **S2S 보안 열기** 를 선택합니다.

5. 목록에서 토큰을 찾은 다음 편집 아이콘을 선택합니다.

6. **범위** 드롭다운에서 범위를 추가하거나 삭제합니다.

7. **토큰 편집** 을 선택하여 변경 내용을 저장합니다.

   ![범위 목록과 함께 토큰을 보여주는 모달](@images/s2s/6-scoped-token-edit.png)

이제부터 수신되는 모든 S2S 요청에는 활성화된 인증 토큰이 포함돼야 합니다. 이전에 범위를 지정하지 않고 토큰을 구성한 경우, 이 토큰은 **모든** 엔드포인트에서 계속 작동합니다. 보안 강화를 위해 범위가 지정된 토큰을 사용하는 것이 좋습니다.

## 인증된 요청 예시 {#example-authenticated-request}

```console
curl -v -X \
POST -H \
"Authorization: Bearer v8s5opi0zs45607l8h8c48wak2vxb5oe" \
"https://s2s.adjust.com/event?s2s=1&app_token=abc123kuvada7&event_token=xyzklm&gps_adid=11110111-2345-6789-1122-000000005678"
```

```text
> POST /event?s2s=1&app_token=abc123kuvada7&event_token=xyzklm&gps_adid=11110111-2345-6789-1122-000000005678 HTTP/1.1
> Host: s2s.adjust.com
> User-Agent: curl/7.54.0
> Accept: */*
> Authorization: Bearer v8s5opi0zs45607l8h8c48wak2vxb5oe
```

요청에 대해서 아래와 같은 응답을 받게 됩니다.

| 응답 코드 | 응답 메시지                  | 원인                                                                                                           |
| --------- | ---------------------------- | -------------------------------------------------------------------------------------------------------------- |
| `200`     | OK                           | 요청이 수락됨                                                                                                  |
| `202`     | Missing authentication token | 요청에 추가 된 토큰이 없음                                                                                     |
| `202`     | Wrong authentication token   | 토큰이 추가되었지만 인식되지 않음.<br />토큰이 올바르게 설정되어 있고 대시보드에서 활성화되어 있는지 확인 필요 |
| `401`     | Session failed               | The request had insufficient authentication scopes                                                             |

## 토큰 관리 {#manage-your-tokens}

여러 개의 인증 토큰을 추가하기 위해서는 [위에서 설명한 설정 단계](#activate-s2s-authentication)를 동일하게 진행하면 됩니다.

<Callout type="note">

토큰 도입 이후 항상 토큰을 테스트하시기 바랍니다. S2S 인증이 활성화된 이후에는 올바르게 도입되지 않은 새 토큰이 포함된 요청은 거부됩니다.

</Callout>

토큰을 더 이상 사용하지 않는다면, **비활성화** 하실 수 있습니다.

1. **AppView** 아래의 **나의 앱\(My apps\)** 을 선택합니다.
2. 해당 앱을 선택합니다.
3. **Protection** 탭을 선택합니다.
4. **S2S 보안** 섹션 하단의 **S2S 보안 열기** 를 선택합니다.
5. 토큰을 찾고 토글을 **OFF** 로 설정합니다.

<Callout type="important">

모든 토큰이 비활성화되면 Adjust는 모든 S2S 트래픽을 거부하지 않도록 자동으로 S2S 인증을 비활성화합니다.

</Callout>

언제든지 토글을 **ON** 하여 비활성 토큰을 다시 활성화하거나 **비활성화된 토큰 보기** 토글을 OFF하여 비활성 토큰을 숨길 수 있습니다.

To deactivate S2S authentication, disable the toggle labeled **S2S authentication is ON: you’re protected against fraud.** . A warning modal appears. Select **Turn off** to deactivate S2S authentication.
