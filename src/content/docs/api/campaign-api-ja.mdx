---
title: "キャンペーン API"
description: "キャンペーンAPIを使用して、リンクやサブリンク、パートナーの情報を取得します。"
category-title: "キャンペーン API"
slug: "ja/api/campaign-api"
sidebar-position: 4
---

キャンペーンAPIを使用して、リンク、サブリンクおよびパートナー情報の取得や、リンクの新規作成や、既存のリンクを新しいパートナー情報に更新することができます。

## [仕組み](how-it-works)

1. **コールを認証する**

   キャンペーンAPIエンドポイントを使用するには、はじめにAdjustのAPIトークンが必要となります。このトークンをAPIに使用する方法については[認証ガイド](#authentication)をご覧ください。

2. **アプリに関連するネットワークリンクの一覧を取得する**

   `trackers`エンドポイントを使用して、アプリに関連するリンクの詳細を取得します。[トップレベルリンク](#fetch-links)のリストまたは[サブリンク](#fetch-sublinks)のリストを取得できます。

3. **新しいネットワークリンクを作成する**

   [`trackers`エンドポイント](#create-links)にPOSTリクエストを送信することで、アプリに新しいリンクを追加できます。このエンドポイントは、トップレベルのリンクとサブリンクの作成をサポートします。

4. **パートナーの一覧を取得する**

   [`partners`エンドポイント](#fetch-partners)を使用して、パートナーの一覧を取得します。リンクを更新する際に使用してください。

5. **リンクを新規パートナーに更新する**

   [`trackers`エンドポイント](#update-links)にPATCHリクエストを送信し、既存のリンクを新規パートナーとコストデータの情報に更新します。

## [認証](authentication)

キャンペーンAPIを使用するには、[ベアラートークン](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication)が必要となります。ベアラートークンの取得については、このガイドをご覧ください。

### [Adjust APIトークンを見つける](find-your-adjust-api-token)

Adjust APIコールを作成する前に、まずAdjustダッシュボードでAPIトークンを見つけます。AdjustダッシュボードからAdjustのAPIトークンを確認してください。

<Callout type="important">

SSO（シングルサインオン）を設定している場合、APIトークンはAdjustダッシュボードで確認することができません。APIトークン関して不明な点がございましたら、Adjustの担当者または[support@adjust.com](mailto:support@adjust.com)までお問い合わせください。

</Callout>

Adjust APIトークンは **profile** 内にあります。それを確認するには、以下の手順に従ってください。

1. 左下隅にある設定アイコンを選択します。
2. **アカウント設定（Account Settings）** を選択します。アカウント設定のページが開きます。
3. **マイプロフィール（My Profile）** を選択します。
4. **APIトークン** が **ユーザー情報（User details）** に表示されます。コピーボタンを選択して、トークンをクリップボードにコピーします。

### [Adjust APIトークンをリセットする](reset-your-adjust-api-token)

Adjust APIトークンはいつでもリセットできます。 トークンをリセットすると、古いトークンが無効になります。 つまり、古いトークンを使用して送信されたリクエストは機能しません。 Adjust APIトークンをリセットした場合、使用中のあらゆる場所でトークンを更新する必要があります。

1. 左下隅にある設定アイコンを選択します。
2. **アカウント設定（Account Settings）** を選択します。アカウント設定のページが開きます。
3. **マイプロフィール（My Profile）** を選択します。
4. **APIトークン** が **ユーザー情報（User details）** に表示されます。
5. **APIトークンをリセットする（Reset API token）** を選択します。ポップアップモーダルが表示されます。
6. モーダルでアカウントのパスワードを入力し、 **リセット（Reset）** を選択してAPIトークンをリセットします。モーダルが閉じ、画面右上に確認メッセージが表示されます。
7. **APIトークン** の横にあるコピーボタンを選択して、トークンをクリップボードにコピーします。

## [パートナーを取得する](fetch-partners)

<CodeBlock title="エンドポイント" highlight="/partners">

```http
GET https://api.adjust.com/public/v1/partners
```

</CodeBlock>

このエンドポイントを使用して、パートナーの一覧と関連データを取得します。データはパートナーオブジェクトの配列で返されます。

### [パラメーター](fetch-partners-parameters)

<Table>

| パラメーター | データタイプ | 入力する値 | 説明                                                     |
| ------------ | ------------ | ---------- | -------------------------------------------------------- |
| `after`      | `String`     | クエリ     | 次のページから要素を取得するカーソル。                   |
| `before`     | `String`     | クエリ     | 前のページから要素を取得するカーソル。                   |
| `limit`      | `Integer`    | クエリ     | レスポンスに含まれる要素の最大数。正の整数値であること。 |

</Table>

### [ページネーション](fetch-partners-pagination)

このエンドポイントからの結果は、カーソルでページネーションされます。各ページには、前ページと次ページの位置が返されます。特定のページを返すには、これらを含めて呼び出してください。また、1 ページに含まれるアイテムの数を制限することも可能です。デフォルトの上限は`50`になります。

各結果のページには、カーソル位置を含むpagingオブジェクトが含まれます。このカーソル位置を使って、プログラム上でページ間を移動することができます。たとえば、最初のページには、次のような結果が含まれます。

<CodeBlock title="ページネーションの例">

```json
"paging": {
   "page_size": "50",
   "collection_size": "49",
   "total": "199",
   "cursors": {
      "after": "g2wAAAACYhW1_gxkAANuaWxq",
      "before": null
   },
   "next": "https://api.adjust.com/public/v1/apps/yxs12pfewq/trackers?after=g2wAAAACYhW1_gxkAANuaWxq&limit=50",
   "previous": null
}
```

</CodeBlock>

2ページ目に移動するには、`after`値を`after`パラメーター内の次のリクエストに追加します。例：

<CodeBlock title="cURL" highlight="after=g2wAAAACYhW1_gxkAANuaWxq">

```console
$ curl "https://api.adjust.com/public/v1/apps/yxs12pfewq/trackers?after=g2wAAAACYhW1_gxkAANuaWxq"
```

</CodeBlock>

### [レスポンスパラメーター](fetch-partners-response-format)

<Table>

| フィールド          | データタイプ | 説明                                                 | 例         |
| ------------------- | ------------ | ---------------------------------------------------- | ---------- |
| `id`                | `Integer`    | パートナーのID                                       | `174`      |
| `display_name`      | `String`     | パートナーの名前                                     | `Adcolony` |
| `support_cost_data` | `Boolean`    | パートナーがコストデータをサポートしているかどうか。 | `true`     |

</Table>
<CodeBlock title="レスポンスの形式">

```json
{
   "id": 1,
   "display_name": "String",
   "supports_cost_data": true
}
```

</CodeBlock>

### [例](fetch-partners-example)

<CodeBlock title="cURL">

```console
$ curl \
--header 'Authorization: Token token={API_TOKEN}' \
-L -X GET 'https://api.adjust.com/public/v1/partners?limit=1'

```

</CodeBlock>
<CodeBlock title="成功レスポンス">

```json
{
   "data": {
      "api_version": "1",
      "request_id": "FcK55-tdJUDOWQIAABsB",
      "timestamp": "2019-09-09T09:07:06Z",
      "paging": {
         "page_size": "1",
         "collection_size": "1",
         "total": "199",
         "next": "https://api.adjust.com/public/v1/partners?after=g2wAAAACYhW1_gxkAANuaWxq&limit=1",
         "previous": null,
         "cursors": {
            "after": "g2wAAAACYhW1_gxkAANuaWxq",
            "before": null
         }
      },
      "items": [
         {
            "id": 174,
            "display_name": "Adcolony",
            "supports_cost_data": true
         }
      ]
   }
}
```

</CodeBlock>

## [リンクの取得](fetch-links)

<Tabs>
<Tab title="v2" sync="v2">

<CodeBlock title="エンドポイント" highlight="v2/apps/{app_token}/trackers">

```http
GET https://api.adjust.com/public/v2/apps/{app_token}/trackers
```

</CodeBlock>

</Tab>
<Tab title="v1" sync="v1">

<CodeBlock title="エンドポイント" highlight="v1/apps/{app_token}/trackers">

```http
GET https://api.adjust.com/public/v1/apps/{app_token}/trackers
```

</CodeBlock>

</Tab>
</Tabs>

このエンドポイントを使用して、指定したアプリのネットワークレベルのリンクを取得します。

<Tabs>
<Tab title="v2" sync="v2">

<Table>

| パラメーター  | データタイプ | 入力する値 | 説明                                                     |
| ------------- | ------------ | ---------- | -------------------------------------------------------- |
| `app_token`\* | `String`     | パス       | アプリの12桁の識別子。                                   |
| `cursor`      | `String`     | クエリ     | 結果の収集を含む一意のカーソル位置。                     |
| `limit`       | `Integer`    | クエリ     | レスポンスに含まれる要素の最大数。正の整数値であること。 |

</Table>

</Tab>
<Tab title="v1" sync="v1">

<Table>

| パラメーター  | データタイプ | 入力する値 | 説明                                                     |
| ------------- | ------------ | ---------- | -------------------------------------------------------- |
| `app_token`\* | `String`     | パス       | アプリの12桁の識別子。                                   |
| `after`       | `String`     | クエリ     | 次のページから要素を取得するカーソル。                   |
| `before`      | `String`     | クエリ     | 前のページから要素を取得するカーソル。                   |
| `limit`       | `Integer`    | クエリ     | レスポンスに含まれる要素の最大数。正の整数値であること。 |

</Table>

</Tab>
</Tabs>

### [ページネーション](fetch-links-pagination)

このエンドポイントからの結果は、カーソルでページネーションされます。各ページには、前ページと次ページの位置が返されます。特定のページを返すには、これらを含めて呼び出してください。また、1 ページに含まれるアイテムの数を制限することも可能です。デフォルトの上限は`50`になります。

各結果のページには、カーソル位置を含むpagingオブジェクトが含まれます。このカーソル位置を使って、プログラム上でページ間を移動することができます。たとえば、最初のページには、次のような結果が含まれます。

<Tabs>
<Tab title="v2" sync="v2">

<CodeBlock title="ページネーションの例">

```json
"paging": {
   "next": "https://api.adjust.com/public/v2/apps/yxs12pfewq/trackers?cursor=g2wAAAACYhW1_gxkAANuaWxq&limit=50",
   "cursor": "g2wAAAACYhW1_gxkAANuaWxq"
}
```

</CodeBlock>

2ページ目に移動するには、`next`リンクをたどって、次に指定された`cursor`の位置から結果を返します。

<CodeBlock title="cURL" highlight="cursor=g2wAAAACYhW1_gxkAANuaWxq">

```console
$ curl "https://api.adjust.com/public/v2/apps/yxs12pfewq/trackers?cursor=g2wAAAACYhW1_gxkAANuaWxq&limit=50"
```

</CodeBlock>

</Tab>
<Tab title="v1" sync="v1">

<CodeBlock title="ページネーションの例">

```json
"paging": {
   "page_size": "50",
   "collection_size": "49",
   "total": "199",
   "cursors": {
      "after": "g2wAAAACYhW1_gxkAANuaWxq",
      "before": null
   },
   "next": "https://api.adjust.com/public/v1/apps/yxs12pfewq/trackers?after=g2wAAAACYhW1_gxkAANuaWxq&limit=50",
   "previous": null
}
```

</CodeBlock>

2ページ目に移動するには、`after`値を`after`パラメーター内の次のリクエストに追加します。例：

<CodeBlock title="cURL" highlight="after=g2wAAAACYhW1_gxkAANuaWxq">

```console
$ curl "https://api.adjust.com/public/v1/apps/yxs12pfewq/trackers?after=g2wAAAACYhW1_gxkAANuaWxq"
```

</CodeBlock>

</Tab>
</Tabs>

### [レスポンスパラメーター](fetch-links-response-format)

<Table search>

| フィールド          | データタイプ | 説明                                                                                                                                         | 例                                          |
| ------------------- | ------------ | -------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| `name`              | `String`     | リンク名。                                                                                                                                   | `Adroll`                                    |
| `label`             | `String`     | リンク名の最後のラベルの部分。                                                                                                               | `Adroll`                                    |
| `level`             | `Integer`    | リンクのレベル。<br/><ul><li>ネットワーク = `1`</li><li>キャンペーン = `2`</li><li>アドグループ = `3`</li><li>クリエイティブ = `4`</li></ul> | `1`                                         |
| `archived`          | `Boolean`    | リンクがアーカイブされたかどうか。                                                                                                           | `true`                                      |
| `has_subtrackers`   | `Boolean`    | リンクにサブリンクがあるかどうか。                                                                                                           | `true`                                      |
| `partner_id`        | `Integer`    | リンクに付与されるパートナーのID。                                                                                                           | `3`                                         |
| `cost_data_enabled` | `Boolean`    | リンクでcost_dataが有効になっているかどうか。                                                                                                | `false`                                     |
| `impression_url`    | `String`     | インプレッション計測対象のリンクURL                                                                                                          | `https://view.adjust.com/impression/abc123` |
| `url`               | `String`     | 計測対象のリンクURL                                                                                                                          | `https://app.adjust.com/abc123`             |
| `click_url`         | `String`     | クリック計測対象のリンクURL                                                                                                                  | `https://app.adjust.com/abc123`             |

</Table>
<CodeBlock title="成功レスポンス">

```json
{
   "name": "String",
   "token": "String",
   "label": "String",
   "level": 1,
   "archived": false,
   "has_subtrackers": false,
   "partner_id": 3,
   "cost_data_enabled": false,
   "url": "String",
   "click_url": "String",
   "impression_url": "String"
}
```

</CodeBlock>

### [例](fetch-links-example)

<Tabs>
<Tab title="v2" sync="v2">

<CodeBlock title="cURL" highlight="gwzpeepw8uf8">

```console
$ curl \
--header 'Authorization: Token token={API_TOKEN}' \
-L -X GET 'https://api.adjust.com/public/v2/apps/gwzpeepw8uf8/trackers?limit=1'
```

</CodeBlock>
<CodeBlock title="成功レスポンス">

```json
{
   "data": {
      "paging": {
         "cursor": "g2wAAAACYhW1_gxkAANuaWxq",
         "next": "https://api.adjust.com/public/v2/apps/gwzpeepw8uf8/trackers?after=g2wAAAACYhW1_gxkAANuaWxq&limit=1"
      },
      "items": [
         {
            "archived": false,
            "has_subtrackers": false,
            "partner_id": 3,
            "cost_data_enabled": false,
            "label": "Adroll",
            "level": 1,
            "name": "Adroll",
            "token": "abc123",
            "url": "https://app.adjust.com/abc123",
            "click_url": "https://app.adjust.com/abc123?campaign={campaign_name}&idfa={idfa}&deeplink=http%3A%2F%2Fa.b%2Fc%3Fd%3D1%26e%3D%%MACROS%%",
            "impression_url": "https://s2s.adjust.com/impression/abc123?campaign={campaign_name}&idfa={idfa}&s2s=1"
         }
      ]
   }
}
```

</CodeBlock>

</Tab>
<Tab title="v1" sync="v1">

<CodeBlock title="cURL" highlight="gwzpeepw8uf8">

```console
$ curl \
--header 'Authorization: Token token={API_TOKEN}' \
-L -X GET 'https://api.adjust.com/public/v1/apps/gwzpeepw8uf8/trackers?limit=1'
```

</CodeBlock>
<CodeBlock title="成功レスポンス">

```json
{
   "data": {
      "api_version": "1",
      "request_id": "FcK55-tdJUDOWQIAABsB",
      "timestamp": "2019-09-09T09:07:06Z",
      "paging": {
         "page_size": "1",
         "collection_size": "1",
         "total": "199",
         "next": "https://api.adjust.com/public/v1/apps/gwzpeepw8uf8/trackers?after=g2wAAAACYhW1_gxkAANuaWxq&limit=1",
         "previous": null,
         "cursors": {
            "after": "g2wAAAACYhW1_gxkAANuaWxq",
            "before": null
         }
      },
      "items": [
         {
            "archived": false,
            "has_subtrackers": false,
            "partner_id": 3,
            "cost_data_enabled": false,
            "label": "Adroll",
            "level": 1,
            "name": "Adroll",
            "token": "abc123",
            "url": "https://app.adjust.com/abc123",
            "click_url": "https://app.adjust.com/abc123?campaign={campaign_name}&idfa={idfa}&deeplink=http%3A%2F%2Fa.b%2Fc%3Fd%3D1%26e%3D%%MACROS%%",
            "impression_url": "https://s2s.adjust.com/impression/abc123?campaign={campaign_name}&idfa={idfa}&s2s=1"
         }
      ]
   }
}
```

</CodeBlock>

</Tab>
</Tabs>

## [サブリンクの取得](fetch-sublinks)

<Tabs>
<Tab title="v2" sync="v2">

<CodeBlock title="エンドポイント" highlight="v2/apps/{app_token}/trackers/{link_token}/children">

```http
GET https://api.adjust.com/public/v2/apps/{app_token}/trackers/{link_token}/children
```

</CodeBlock>

</Tab>
<Tab title="v1" sync="v1">

<CodeBlock title="エンドポイント" highlight="v1/apps/{app_token}/trackers/{link_token}/children">

```http
GET https://api.adjust.com/public/v1/apps/{app_token}/trackers/{link_token}/children
```

</CodeBlock>

</Tab>
</Tabs>

このエンドポイントを使用して、指定したアプリのサブリンクを取得します。

<Tabs>
<Tab title="v2" sync="v2">

<Table>

| パラメーター      | データタイプ | 入力する値 | 説明                                                     |
| ----------------- | ------------ | ---------- | -------------------------------------------------------- |
| `app_token`\*     | `String`     | パス       | アプリの12桁の識別子。                                   |
| `tracker_token`\* | `String`     | パス       | 親リンクトークン。                                       |
| `cursor`          | `String`     | クエリ     | 結果の収集を含む一意のカーソル位置。                     |
| `limit`           | `Integer`    | クエリ     | レスポンスに含まれる要素の最大数。正の整数値であること。 |

</Table>

</Tab>
<Tab title="v1" sync="v1">

<Table>

| パラメーター      | データタイプ | 入力する値 | 説明                                                     |
| ----------------- | ------------ | ---------- | -------------------------------------------------------- |
| `app_token`\*     | `String`     | パス       | アプリの12桁の識別子。                                   |
| `tracker_token`\* | `String`     | パス       | 親リンクトークン。                                       |
| `after`           | `String`     | クエリ     | 次のページから要素を取得するカーソル。                   |
| `before`          | `String`     | クエリ     | 前のページから要素を取得するカーソル。                   |
| `limit`           | `Integer`    | クエリ     | レスポンスに含まれる要素の最大数。正の整数値であること。 |

</Table>

</Tab>
</Tabs>

### [ページネーション](fetch-sublinks-pagination)

このエンドポイントからの結果は、カーソルでページネーションされます。各ページには、前ページと次ページの位置が返されます。特定のページを返すには、これらを含めて呼び出してください。また、1 ページに含まれるアイテムの数を制限することも可能です。デフォルトの上限は`50`になります。

各結果のページには、カーソル位置を含むpagingオブジェクトが含まれます。このカーソル位置を使って、プログラム上でページ間を移動することができます。たとえば、最初のページには、次のような結果が含まれます。

<Tabs>
<Tab title="v2" sync="v2">

<CodeBlock title="ページネーションの例">

```json
"paging": {
   "next": "https://api.adjust.com/public/v2/apps/gwzpeepw8uf8/trackers/abc123/children?cursor=g2wAAAACYhW1_gxkAANuaWxq",
   "cursor": "g2wAAAACYhW1_gxkAANuaWxq"
}
```

</CodeBlock>

2ページ目に移動するには、`next`リンクをたどって、次に指定された`cursor`の位置から結果を返します。

<CodeBlock title="cURL" highlight="cursor=g2wAAAACYhW1_gxkAANuaWxq">

```console
$ curl "https://api.adjust.com/public/v2/apps/gwzpeepw8uf8/trackers/abc123/children?cursor=g2wAAAACYhW1_gxkAANuaWxq"
```

</CodeBlock>

</Tab>
<Tab title="v1" sync="v1">

<CodeBlock title="ページネーションの例">

```json
"paging": {
   "page_size": "50",
   "collection_size": "49",
   "total": "199",
   "cursors": {
      "after": "g2wAAAACYhW1_gxkAANuaWxq",
      "before": null
   },
   "next": "https://api.adjust.com/public/v1/apps/gwzpeepw8uf8/trackers/abc123/children?after=g2wAAAACYhW1_gxkAANuaWxq&limit=50",
   "previous": null
}
```

</CodeBlock>

2ページ目に移動するには、`after`値を`after`パラメーター内の次のリクエストに追加します。例：

<CodeBlock title="cURL" highlight="after=g2wAAAACYhW1_gxkAANuaWxq">

```console
$ curl "https://api.adjust.com/public/v1/apps/gwzpeepw8uf8/trackers/abc123/children?after=g2wAAAACYhW1_gxkAANuaWxq"
```

</CodeBlock>

</Tab>
</Tabs>

### [レスポンスパラメーター](fetch-sublinks-response-format)

<Table search>

| フィールド          | データタイプ | 説明                                                                                                                                         | 例                                          |
| ------------------- | ------------ | -------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| `name`              | `String`     | リンク名。                                                                                                                                   | `Adroll`                                    |
| `label`             | `String`     | リンク名の最後のラベルの部分。                                                                                                               | `Adroll`                                    |
| `level`             | `Integer`    | リンクのレベル。<br/><ul><li>ネットワーク = `1`</li><li>キャンペーン = `2`</li><li>アドグループ = `3`</li><li>クリエイティブ = `4`</li></ul> | `1`                                         |
| `archived`          | `Boolean`    | リンクがアーカイブされたかどうか。                                                                                                           | `true`                                      |
| `has_subtrackers`   | `Boolean`    | リンクにサブリンクがあるかどうか。                                                                                                           | `true`                                      |
| `partner_id`        | `Integer`    | リンクに付与されるパートナーのID。                                                                                                           | `3`                                         |
| `cost_data_enabled` | `Boolean`    | リンクでcost_dataが有効になっているかどうか。                                                                                                | `false`                                     |
| `impression_url`    | `String`     | インプレッション計測対象のリンクURL                                                                                                          | `https://view.adjust.com/impression/abc123` |
| `url`               | `String`     | 計測対象のリンクURL                                                                                                                          | `https://app.adjust.com/abc123`             |
| `click_url`         | `String`     | クリック計測対象のリンクURL                                                                                                                  | `https://app.adjust.com/abc123`             |

</Table>

<CodeBlock title="レスポンスの形式">

```json
{
   "name": "String",
   "token": "String",
   "label": "String",
   "level": 2,
   "archived": false,
   "has_subtrackers": false,
   "partner_id": null,
   "cost_data_enabled": false,
   "url": "String",
   "click_url": "String",
   "impression_url": "String"
}
```

</CodeBlock>

### [例](fetch-sublinks-example)

<Tabs>
<Tab title="v2" sync="v2">

<CodeBlock title="cURL" highlight="gwzpeepw8uf8, abc123">

```console
$ curl \
--header 'Authorization: Token token={API_TOKEN}'
-L -X GET 'https://api.adjust.com/public/v2/apps/gwzpeepw8uf8/trackers/abc123/children?limit=1' \
```

</CodeBlock>
<CodeBlock title="成功レスポンス">

```json
{
   "data": {
      "paging": {
         "next": "https://api.adjust.com/public/v2/apps/gwzpeepw8uf8/trackers/abc123/children?cursor=g2wAAAACYhW1_gxkAANuaWxq&limit=1",
         "cursor": "g2wAAAACYhW1_gxkAANuaWxq"
      },
      "items": [
         {
            "name": "Adroll::SpringCampaign",
            "token": "xyz456",
            "label": "SpringCampaign",
            "level": 2,
            "archived": false,
            "has_subtrackers": false,
            "partner_id": null,
            "cost_data_enabled": false,
            "url": "https://app.adjust.com/xyz456",
            "click_url": "https://app.adjust.com/xyz456?idfa={idfa}&deeplink=http%3A%2F%2Fa.b%2Fc%3Fd%3D1%26e%3D%%MACROS%%",
            "impression_url": "https://s2s.adjust.com/impression/xyz456?idfa={idfa}&s2s=1"
         }
      ]
   }
}
```

</CodeBlock>

</Tab>
<Tab title="v1" sync="v1">

<CodeBlock title="cURL" highlight="gwzpeepw8uf8, abc123">

```console
$ curl \
--header 'Authorization: Token token={API_TOKEN}'
-L -X GET 'https://api.adjust.com/public/v1/apps/gwzpeepw8uf8/trackers/abc123/children?limit=1' \
```

</CodeBlock>
<CodeBlock title="成功レスポンス">

```json
{
   "data": {
      "api_version": "1",
      "request_id": "FcK55-tdJUDOWQIAABsB",
      "timestamp": "2019-09-09T09:07:06Z",
      "paging": {
         "page_size": "1",
         "collection_size": "1",
         "total": "199",
         "next": "https://api.adjust.com/public/v1/apps/gwzpeepw8uf8/trackers/abc123/children?after=g2wAAAACYhW1_gxkAANuaWxq&limit=1",
         "previous": null,
         "cursors": {
            "after": "g2wAAAACYhW1_gxkAANuaWxq",
            "before": null
         }
      },
      "items": [
         {
            "name": "Adroll::SpringCampaign",
            "token": "xyz456",
            "label": "SpringCampaign",
            "level": 2,
            "archived": false,
            "has_subtrackers": false,
            "partner_id": null,
            "cost_data_enabled": false,
            "url": "https://app.adjust.com/xyz456",
            "click_url": "https://app.adjust.com/xyz456?idfa={idfa}&deeplink=http%3A%2F%2Fa.b%2Fc%3Fd%3D1%26e%3D%%MACROS%%",
            "impression_url": "https://s2s.adjust.com/impression/xyz456?idfa={idfa}&s2s=1"
         }
      ]
   }
}
```

</CodeBlock>

</Tab>
</Tabs>

## [リンクを作成する](create-link)

<CodeBlock title="エンドポイント" highlight="{app_token}/trackers">

```http
POST https://api.adjust.com/public/v1/apps/{app_token}/trackers
```

</CodeBlock>

このエンドポイントを使用して、アプリに新規リンクまたはサブリンクを作成します。

### [パラメータ](create-link-parameters)

<Table>

| パラメーター   | データタイプ | 入力する値 | 説明                                       |
| -------------- | ------------ | ---------- | ------------------------------------------ |
| `app_token`\*  | `String`     | パス       | アプリの12桁の識別子。                     |
| `name`\*       | `String`     | ボディ     | 新しいリンク名。                           |
| `parent_token` | `String`     | ボディ     | 親リンク名。サブリンクの作成時にのみ必要。 |

</Table>

### [レスポンスパラメーター](create-link-response-parameters)

<Table search>

| フィールド          | データタイプ | 説明                                                                                                                                         | 例                                          |
| ------------------- | ------------ | -------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| `name`              | `String`     | リンク名。                                                                                                                                   | `Adroll`                                    |
| `label`             | `String`     | リンク名の最後のラベルの部分。                                                                                                               | `Adroll`                                    |
| `level`             | `Integer`    | リンクのレベル。<br/><ul><li>ネットワーク = `1`</li><li>キャンペーン = `2`</li><li>アドグループ = `3`</li><li>クリエイティブ = `4`</li></ul> | `1`                                         |
| `archived`          | `Boolean`    | リンクがアーカイブされたかどうか。                                                                                                           | `true`                                      |
| `has_subtrackers`   | `Boolean`    | リンクにサブリンクがあるかどうか。                                                                                                           | `true`                                      |
| `partner_id`        | `Integer`    | リンクに付与されるパートナーのID。                                                                                                           | `3`                                         |
| `cost_data_enabled` | `Boolean`    | リンクでcost_dataが有効になっているかどうか。                                                                                                | `false`                                     |
| `impression_url`    | `String`     | インプレッション計測対象のリンクURL                                                                                                          | `https://view.adjust.com/impression/abc123` |
| `url`               | `String`     | 計測対象のリンクURL                                                                                                                          | `https://app.adjust.com/abc123`             |
| `click_url`         | `String`     | クリック計測対象のリンクURL                                                                                                                  | `https://app.adjust.com/abc123`             |

</Table>
<CodeBlock title="レスポンスの形式">

```json
{
   "name": "String",
   "token": "String",
   "label": "String",
   "level": 1,
   "archived": false,
   "has_subtrackers": false,
   "partner_id": 3,
   "cost_data_enabled": false,
   "url": "String",
   "click_url": "String",
   "impression_url": "String"
}
```

</CodeBlock>

#### [リンクレベル](link-levels)

-  ネットワーク = `1`
-  キャンペーン = `2`
-  アドグループ = `3`
-  クリエイティブ = `4`

### [例](create-links-example)

<Tabs>
<Tab title="リンクトークン" sync="link">
<CodeBlock title="cURL">

```console
$ curl --location --request POST 'https://api.adjust.com/public/v1/apps/gwzpeepw8uf8/trackers' \
--header 'Authorization: Token token={API_TOKEN}' \
--header 'Content-Type: application/json' \
--data-raw '{"name": "Adroll"}'
```

</CodeBlock>
<CodeBlock title="成功レスポンス">

```json
{
   "data": {
      "api_version": "1",
      "request_id": "FcK55-tdJUDOWQIAABsB",
      "timestamp": "2019-09-09T09:07:06Z",
      "items": [
         {
            "name": "Adroll",
            "token": "abc123",
            "label": "Adroll",
            "level": 1,
            "archived": false,
            "has_subtrackers": false,
            "partner_id": 3,
            "cost_data_enabled": false,
            "url": "https://app.adjust.com/abc123",
            "click_url": "https://app.adjust.com/abc123?campaign={campaign_name}&idfa={idfa}&deeplink=http%3A%2F%2Fa.b%2Fc%3Fd%3D1%26e%3D%%MACROS%%",
            "impression_url": "https://s2s.adjust.com/impression/abc123?campaign={campaign_name}&idfa={idfa}&s2s=1"
         }
      ]
   }
}
```

</CodeBlock>
</Tab>
<Tab title="サブリンク" sync="sublink">
<CodeBlock title="cURL" highlight="parent_tracker">

```console
$ curl --location --request POST 'https://api.adjust.com/public/v1/apps/gwzpeepw8uf8/trackers' \
--header 'Authorization: Token token={API_TOKEN}' \
--header 'Content-Type: application/json' \
--data-raw '{"parent_tracker": "Adroll", "name": "SpringCampaign"}'
```

</CodeBlock>
<CodeBlock title="成功レスポンス">

```json
{
   "data": {
      "api_version": "1",
      "request_id": "FcK55-tdJUDOWQIAABsB",
      "timestamp": "2019-09-09T09:07:06Z",
      "items": [
         {
            "name": "Adroll::SpringCampaign",
            "token": "xyz456",
            "label": "SpringCampaign",
            "level": 2,
            "archived": false,
            "has_subtrackers": false,
            "partner_id": 3,
            "cost_data_enabled": false,
            "url": "https://app.adjust.com/xyz456",
            "click_url": "https://app.adjust.com/xyz456?campaign={campaign_name}&idfa={idfa}&deeplink=http%3A%2F%2Fa.b%2Fc%3Fd%3D1%26e%3D%%MACROS%%",
            "impression_url": "https://s2s.adjust.com/impression/xyz456?campaign={campaign_name}&idfa={idfa}&s2s=1"
         }
      ]
   }
}
```

</CodeBlock>
</Tab>
</Tabs>

## [リンクの更新](update-links)

このエンドポイントを使用して、アプリの既存のリンクまたはサブリンクを更新します。リンクに新規パートナーを追加したり、コストデータを有効にするかどうかを管理することができます。

<CodeBlock title="エンドポイント" highlight="{app_token}/trackers/{link_token}">

```http
PATCH https://api.adjust.com/public/v1/apps/{app_token}/trackers/{link_token}
```

</CodeBlock>

### [パラメータ](update-links-parameters)

<Table>

| パラメーター        | データタイプ | 入力する値 | 説明                                                                                                                 |
| ------------------- | ------------ | ---------- | -------------------------------------------------------------------------------------------------------------------- |
| `app_token`\*       | `String`     | パス       | アプリの12桁の識別子。                                                                                               |
| `tracker_token`\*   | `String`     | パス       | 更新したいリンクのトークン。                                                                                         |
| `partner_id`        | `Integer`    | ボディ     | リンクに付与したいパートナーのID。パートナーのエンドポイントを使用して、パートナーとパートナーIDの一覧を取得します。 |
| `cost_data_enabled` | `Boolean`    | ボディ     | リンクのコストデータを有効化するかどうか。                                                                           |

</Table>

### [レスポンスパラメーター](update-links-response-format)

<Table search>

| フィールド          | データタイプ | 説明                                                                   | 例                                          |
| ------------------- | ------------ | ---------------------------------------------------------------------- | ------------------------------------------- |
| `name`              | `String`     | リンク名。                                                             | `Adroll`                                    |
| `label`             | `String`     | リンク名の最後のラベルの部分。                                         | `Adroll`                                    |
| `level`             | `Integer`    | リンクのレベル。以下の[リンクレベル](#link-levels)を参照してください。 | `1`                                         |
| `archived`          | `Boolean`    | リンクがアーカイブされたかどうか。                                     | `true`                                      |
| `has_subtrackers`   | `Boolean`    | リンクにサブリンクがあるかどうか。                                     | `true`                                      |
| `partner_id`        | `Integer`    | リンクに付与されるパートナーのID。                                     | `3`                                         |
| `cost_data_enabled` | `Boolean`    | リンクでcost_dataが有効になっているかどうか。                          | `false`                                     |
| `impression_url`    | `String`     | インプレッション計測対象のリンクURL                                    | `https://view.adjust.com/impression/abc123` |
| `url`               | `String`     | 計測対象のリンクURL                                                    | `https://app.adjust.com/abc123`             |
| `click_url`         | `String`     | クリック計測対象のリンクURL                                            | `https://app.adjust.com/abc123`             |

</Table>

#### リンクレベル

-  ネットワーク = `1`
-  キャンペーン = `2`
-  アドグループ = `3`
-  クリエイティブ = `4`

<CodeBlock title="レスポンスの形式">

```json
{
   "name": "String",
   "token": "String",
   "label": "String",
   "level": 1,
   "archived": false,
   "has_subtrackers": false,
   "partner_id": 3,
   "cost_data_enabled": false,
   "url": "String",
   "click_url": "String",
   "impression_url": "String"
}
```

</CodeBlock>

### [例](update-links-example)

<CodeBlock title="cURL" highlight="gwzpeepw8uf8, klm789">

```console
$ curl \
--header 'Authorization: Token token={API_TOKEN}' \
--header 'Content-Type: application/json' \
--location --request PATCH 'https://api.adjust.com/public/v1/apps/gwzpeepw8uf8/trackers/klm789' \
--data-raw '{"partner_id": 174, "cost_data_enabled": false}'
```

</CodeBlock>
<CodeBlock title="成功レスポンス">

```json
{
   "data": {
      "api_version": "1",
      "request_id": "FcK55-tdJUDOWQIAABsB",
      "timestamp": "2019-09-09T09:07:06Z",
      "items": [
         {
            "name": "Adcolony",
            "token": "klm789",
            "label": "Adcolony",
            "level": 1,
            "archived": false,
            "has_subtrackers": false,
            "partner_id": 174,
            "cost_data_enabled": true,
            "url": "https://app.adjust.com/klm789",
            "impression_url": "https://s2s.adjust.com/impression/klm789?s2s=1&idfa=[IDFA]&gps_adid=[GOOGLE_AD_ID]&ip_address=  [IP_ADDRESS]&adcolony_click_id=[CLICK_ID]&android_id_upper_sha1=[SHA1_ANDROID_ID]&cost_id=[CLICK_ID]&cost_type=[BID_TYPE]&cost_amount=[BID]&cost_currency=USD",
            "click_url": "https://s2s.app.adjust.com/klm789?s2s=1&idfa=[IDFA]&gps_adid=[GOOGLE_AD_ID]&ip_address=[IP_ADDRESS]&adcolony_click_id=[CLICK_ID]&android_id_upper_sha1=[SHA1_ANDROID_ID]&cost_id=[CLICK_ID]&cost_type=[BID_TYPE]&cost_amount=[BID]&cost_currency=USD"
         }
      ]
   }
}
```

</CodeBlock>
