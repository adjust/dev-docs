---
title: "パートナー広告費用 Push API"
description: "パートナー広告費用APIを使用して、キャンペーンに関連する広告費用の情報を送信できます。"
category-title: "パートナー広告費用API"
slug: "ja/api/ad-spend-api"
sidebar-position: 2
---

パートナー広告費用APIを使用して、キャンペーンに関連する広告費用の情報を送信できます。APIには、計測するキャンペーンに関連するコストIDが必須です。

広告費用APIの設定方法：

1. コストIDを設定する

   **コストID** は、一意のコストエンゲージメント識別子です。AdjustはコストIDを使用して、コストデータをクリックまたはインプレッションとマッチングします。コストIDの設定方法については、[コストIDの設定](/ja/api/ad-spend-api/cost-id)をご覧ください。

2. API連携を設定する

   Adjustは`/cost`エンドポイントを介して広告費用データを受け取ります。POSTリクエストの設定方法については、[広告費用のコストエンドポイント](/ja/api/ad-spend-api/cost-endpoint)に記載された手順をご参照ください。

3. Adjustとの連携をテストして、設定を完了させる

   必須パラメーターを送信するようサーバーを設定したら、[wizards@adjust.com](mailto:wizards@adjust.com)までご連絡ください。Adjustが連携のテストを実施します。

   Adjustでは、お客様に一連のテストを提供しています。連携を有効化する前に、異なるコストタイプに乖離が生じていないか、他に問題がないかどうかを確認できます。Adjustはまた、API連携が期待通りに機能していることを確認するため、Adjust APIのテストも実施しています。

   テスト完了後、Adjust広告費用APIの公式連携パートナーとして広告費用パートナーのリストに掲載されます。

## [コストI](cost-id)

**コストID** は、12〜256字の一意のコストエンゲージメント識別子の値です。Adjustは、`cost_id`を使用して、受信したコストデータをクリックまたはインプレッションとマッチングすることができます。

`cost_id`を広告費用APIと使用する際に考慮すべきポイントは以下のとおりです：

-  他のAdjustのネットワークパートナーの値がマッチングされるのを防ぐため、`cost_id`は一意の値に設定する必要があります。UUID（Universally Unique Identifier / 汎用一意識別子）を使用するか、IDの前に会社名を付与することをお勧めします。例：`network_name_848dsf4939fgwjn028erg4`。
-  既存の`click_id`または`impression_id`を使用できます。クリックIDやインプレッションIDを作成しない場合は、2つ以上のプレースホルダーを組み合わせてIDを作成してください。たとえばCPIには、ユーザーのIDFA（広告識別子\)とアプリIDを組み合わせることが可能です。

### Adjustを使用してCPMを計測

AdjustにCPM（1000回表示あたりの広告費用）データを送信するには、インプレッションURLで`cost_id`を送信し、広告費用APIコールで参照します。インプレッションごとにCPMを送信してください。

## [エンドポイント](endpoint)

<CodeBlock title="エンドポイント" highlight="/cost">

```http
POST https://app.adjust.com/cost
```

</CodeBlock>

### [POSTリクエスト](post-request)

POSTメソッドは、キャンペーンのコスト情報を`cost_id`を通じて送信します。

<Callout type="important">

広告費用APIは、大文字を処理することができません。パラメーターは全て小文字で入力してください。

</Callout>

#### [パラメーター](parameters)

<Table search>

| パラメーター      | データタイプ | 入力する値 | 説明                                                                                                                                                                               |
| ----------------- | ------------ | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `cost_type`\*     | `String`     | クエリ     | コストモデル。`cpc` \| `cpi` \| `cpe` \| `cpm`                                                                                                                                     |
| `cost_currency`\* | `String`     | クエリ     | [ISO 4217](https://www.iban.com/currency-codes)の通貨コード。Adjustがサポートしている[全ての通貨のリスト](https://help.adjust.com/ja/article/supported-currencies)をご覧ください。 |
| `cost_id`\*       | `String`     | クエリ     | コスト情報をエンゲージメントと一致させるためのユニークな値。12～256字であることが必須です。                                                                                        |
| `tag`\*           | `String`     | クエリ     | ログの記録とやデバッグに使用するラベル。最大128字。                                                                                                                                |

</Table>

## [例](example)

<Callout type="tip">

リクエストを正しくフォーマットする方法がご不明な場合は、Adjust連携チーム[（wizards@adjust.com）](mailto:wizards@adjust.com)までお問い合わせください。

</Callout>
<CodeBlock title="cURL" highlight="cost_type, cost_currency, cost_amount, cost_id, tag">

```console
$ curl -X POST https://app.adjust.com/cost \
-d "cost_type=cpi&cost_currency=usd&cost_amount=2&cost_id=abc123_company_name_test_1&tag=company_name_test"
```

</CodeBlock>

## [レスポンス](responses)

可能なサーバーレスポンスの一覧です。

<Table>

| コード | レスポンス                            |
| ------ | ------------------------------------- |
| `200`  | 成功レスポンス（Successful response） |
| `400`  | 不正なリクエスト（Bad request）       |
| `401`  | 無許可（Unauthorized）                |
| `403`  | 禁止（Forbidden）                     |

</Table>
