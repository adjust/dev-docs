---
title: "屏蔽名单 API"
description: "Adjust 屏蔽名单 API 用于拦截来自欺诈来源或已过期的动态及模块合作伙伴跟踪链接的流量。"
category-title: "屏蔽名单 API"
slug: "zh/api/blocklist-api"
sidebar-position: 3
---

<Callout type="important">

"Blacklist\(黑名单\)" 及 "whitelist\(白名单\)" 已被分别更名为 "blocklist\(屏蔽名单\)" 和"allowlist\(许可名单\)"。当前此变更适用于我们的用户界面及文档。在我们完全更新代码库前，"blacklist" 可能仍会存在于 API 终端中。

</Callout>

使用 Adjust 屏蔽名单 API 来拦截来自欺诈或过期链接的流量。被列入屏蔽名单的链接在控制面板中将带有 **BLOCKLISTED** \(已列入屏蔽名单\) 标签。

您可以将动态合作伙伴或模块合作伙伴的链接加入屏蔽名单，但无法对 SAN 合作伙伴的链接进行该操作。如果您想屏蔽 SAN 合作伙伴跟踪链接的流量，则需要删除此 SAN 合作伙伴。

<Callout type="seealso">

访问[自归因渠道设置](https://help.adjust.com/zh/suite/article/self-attributing-network-san-setup)页面来查看完整 SAN 合作伙伴列表。

</Callout>

## [1\. 认证您的调用](1-authenticate-your-calls)

要使用 Adjust 屏蔽名单 API，您首先需要获取 Adjust API 识别码。按照此认证文档中的说明进行操作，了解如何在 API 中应用识别码。

## [2\. 将链接加入屏蔽名单](2-blocklist-a-link)

通过[将链接加入屏蔽名单](#blocklist-endpoint)来拦截以下信息：

-  交互

   -  点击
   -  展示

-  发送至合作伙伴和渠道的回传
   -  模块回传
   -  动态回传

任何与该链接关联的已有归因将保持关联。已归因用户的数据将保持与该链接的关联，直至被再归因至不同链接。

## [3\. 将链接移出屏蔽名单](3-unblocklist-a-link)

如果您想重新激活一个链接，则可以将其[移出屏蔽名单](#unblocklist-endpoint)。一旦将链接移出屏蔽名单，Adjust 就会恢复交互跟踪和回传。

<Callout type="note">

被移出屏蔽名单的跟踪链接会立即激活。链接位于屏蔽名单时与之关联的归因数据不被纳入考量。只有当链接被激活时接收到的交互才会被纳入您的归因漏斗。

</Callout>

## [4\. 查看链接状态](4-view-link-status)

您可以在 [Campaign Lab](https://help.adjust.com/zh/article/campaign-setup) 中查看哪些链接被加入了屏蔽名单。为此请进行下列操作：

1. 打开 Campaign Lab。
2. 选择一个合作伙伴来显示关联链接列表。

位于屏蔽名单中的链接将显示为 **BLOCKLISTED** \(已列入屏蔽名单\)。

您无法编辑屏蔽名单中的链接，但可以在 Campaign Lab 中将其隐藏。要进一步了解如何隐藏链接，请查看[Campaign Lab 中的隐藏链接](https://help.adjust.com/zh/article/manage-ad-network-setup#hidden-links)。

## [认证](authentication)

要使用屏蔽名单 API，您需要持有 [bearer token](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication)。您可以按照本文中的步骤在 Adjust 控制面板中获取此信息。

### [查找 Adjust API 识别码](find-your-adjust-api-token)

开始进行 API 调用前，您首先需要找到 Adjust API 识别码。您可以在 Adjust 控制面板中找到 Adjust API 识别码。

<Callout type="important">

如果您配置了 SSO，那么就无法在 Adjust 控制面板中找到 API 识别码。请联系您的 Adjust 代表或发送邮件至[support@adjust.com](mailto:support@adjust.com)获取该信息。

</Callout>

您的 Adjust API 识别码位于个人 **档案** 中。要找到该信息，请按照下列步骤操作。

1. 选择左下角的设置图标。
2. 选择 **账户设置** 。这会打开账户设置页面。
3. 选择 **我的档案** 标签页。
4. 您的 **API 识别码** 会显示在 **用户详情** 中。选择复制按钮来将识别码复制到您的系统剪贴板。

### [重置 Adjust API 识别码](reset-your-adjust-api-token)

您可以随时重置 Adjust API 识别码。重置后，旧的识别码将失效。也就是说，任何通过旧识别码发送的请求都将无效。如果您重置了 Adjust API 识别码，那么就需要在使用时对其进行更新。

1. 选择左下角的设置图标。
2. 选择 **账户设置** 。这会打开账户设置页面。
3. 选择 **我的档案** 标签页。
4. 您的 **API 识别码** 会显示在 **用户详情** 中。
5. 选择 **重置 API 识别码** 。此时会出现一个弹窗。
6. 在窗口中输入账户密码并选择 **重置** 来重置您的 API 识别码。窗口关闭，屏幕右上角出现确认信息。
7. 选择 **API 识别码** 旁的复制按钮来将识别码复制到您的系统剪贴板。

## [屏蔽名单终端](blocklist-endpoint)

通过将跟踪链接加入屏蔽名单来阻止对此链接及其相关子链接的交互监测、归因和回传。

<CodeBlock title="终端" highlight="{link}/blacklist">

```http
POST https://api.adjust.com/dashboard/api/trackers/{link}/blacklist
```

</CodeBlock>

## [将链接加入屏蔽名单](blocklist-a-link)

将指定链接加入屏蔽名单。

### [参数](blocklist-parameters)

以下参数必须被添加至查询路径：

`link` \(`String`\)

: 由字母数字组成的 Adjust 链接识别码。

### [响应格式](blocklist-response-format)

<CodeBlock title="响应格式">

```json
{
   "label": "string",
   "token": "string",
   "name": "string",
   "url": "string",
   "path": "string",
   "has_subtrackers": true,
   "archived": true,
   "visible": true,
   "attribution_partner": true,
   "creative_token": "string",
   "adgroup_token": "string",
   "campaign_token": "string",
   "network_token": "string",
   "click_url": "string",
   "impression_url": "string",
   "allow_partner_linking": true,
   "settings": {
      "partner_id": "string",
      "partner_display_name": "string",
      "tracking_parameters": "string",
      "cost_data_parameters": "string",
      "cost_data": true,
      "partner_cost_data_parameters": "string",
      "campaign_structure": "string",
      "additional_parameters": "string",
      "attribution_settings": "string",
      "blacklisted": true
   },
   "urls": {
      "descendants": "string",
      "ancestors": "string",
      "update": "string",
      "show": "string",
      "archive": "string",
      "unarchive": "string"
   }
}
```

</CodeBlock>

## [示例](blocklist-example)

<CodeBlock title="cURL" highlight="abc123">

```console
$ curl \
--header "Authorization: Token token={api_token}" \
-L -X POST "https://api.adjust.com/dashboard/api/trackers/abc123/blacklist"
```

</CodeBlock>
<CodeBlock title="成功响应">

```json
{
   "label": "Twitter installs",
   "token": "abc123",
   "name": "Twitter installs",
   "url": "https://app.adjust.com/abc123",
   "path": "",
   "has_subtrackers": true,
   "archived": false,
   "visible": true,
   "attribution_partner": false,
   "creative_token": null,
   "adgroup_token": null,
   "campaign_token": null,
   "network_token": "abc123",
   "click_url": "https://app.adjust.com/abc123",
   "impression_url": "https://view.adjust.com/impression/abc123",
   "allow_partner_linking": true,
   "settings": {
      "partner_id": null,
      "partner_display_name": null,
      "tracking_parameters": null,
      "cost_data_parameters": null,
      "cost_data": false,
      "partner_cost_data_parameters": null,
      "campaign_structure": null,
      "additional_parameters": null,
      "attribution_settings": null,
      "blacklisted": true
   },
   "urls": {
      "descendants": "/api/trackers/abc123/descendants.json",
      "ancestors": "/api/trackers/abc123/ancestors.json",
      "update": "/api/trackers/abc123.json",
      "show": "/api/trackers/abc123.json",
      "archive": "/api/trackers/abc123/archive.json",
      "unarchive": "/api/trackers/abc123/unarchive.json"
   }
}
```

</CodeBlock>

## [解除屏蔽终端](unblocklist-endpoint)

通过将跟踪链接移出屏蔽名单 \(unblocklist\) 来恢复对此链接及其相关子链接的交互监测、归因和回传。

<CodeBlock title="终端" highlight="{link}/unblacklist">

```http
POST https://api.adjust.com/dashboard/api/trackers/{link}/unblacklist
```

</CodeBlock>

## [将链接移出屏蔽名单](unblocklist-a-link)

将指定链接移出屏蔽名单。

<Table>

| 参数       | 数据类型 | 位置          | 描述                               |
| ---------- | -------- | ------------- | ---------------------------------- |
| `{link}`\* | `String` | 路径 \(Path\) | 由字母数字组成的 Adjust 链接识别码 |

</Table>

### [响应格式](unblocklist-response-format)

<CodeBlock title="响应格式">

```json
{
   "label": "string",
   "token": "string",
   "name": "string",
   "url": "string",
   "path": "string",
   "has_subtrackers": true,
   "archived": true,
   "visible": true,
   "attribution_partner": true,
   "creative_token": "string",
   "adgroup_token": "string",
   "campaign_token": "string",
   "network_token": "string",
   "click_url": "string",
   "impression_url": "string",
   "allow_partner_linking": true,
   "settings": {
      "partner_id": "string",
      "partner_display_name": "string",
      "tracking_parameters": "string",
      "cost_data_parameters": "string",
      "cost_data": true,
      "partner_cost_data_parameters": "string",
      "campaign_structure": "string",
      "additional_parameters": "string",
      "attribution_settings": "string",
      "blacklisted": true
   },
   "urls": {
      "descendants": "string",
      "ancestors": "string",
      "update": "string",
      "show": "string",
      "archive": "string",
      "unarchive": "string"
   }
}
```

</CodeBlock>

## [示例](unblocklist-example)

<CodeBlock title="cURL" highlight="abc123">

```console
$ curl \
--header "Authorization: Token token={api_token}" \
-L -X POST "https://api.adjust.com/dashboard/api/trackers/abc123/unblacklist"
```

</CodeBlock>
<CodeBlock title="成功响应">

```json
{
   "label": "Twitter installs",
   "token": "abc123",
   "name": "Twitter installs",
   "url": "https://app.adjust.com/abc123",
   "path": "",
   "has_subtrackers": true,
   "archived": false,
   "visible": true,
   "attribution_partner": false,
   "creative_token": null,
   "adgroup_token": null,
   "campaign_token": null,
   "network_token": "abc123",
   "click_url": "https://app.adjust.com/abc123",
   "impression_url": "https://view.adjust.com/impression/abc123",
   "allow_partner_linking": true,
   "settings": {
      "partner_id": null,
      "partner_display_name": null,
      "tracking_parameters": null,
      "cost_data_parameters": null,
      "cost_data": false,
      "partner_cost_data_parameters": null,
      "campaign_structure": null,
      "additional_parameters": null,
      "attribution_settings": null,
      "blacklisted": false
   },
   "urls": {
      "descendants": "/api/trackers/abc123/descendants.json",
      "ancestors": "/api/trackers/abc123/ancestors.json",
      "update": "/api/trackers/abc123.json",
      "show": "/api/trackers/abc123.json",
      "archive": "/api/trackers/abc123/archive.json",
      "unarchive": "/api/trackers/abc123/unarchive.json"
   }
}
```

</CodeBlock>
