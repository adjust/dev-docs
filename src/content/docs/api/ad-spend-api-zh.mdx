---
title: "合作伙伴广告支出推送 API"
description: "通过合作伙伴广告支出 API，您可以发送与推广活动关联的广告成本信息。"
category-title: "合作伙伴广告支出 API"
slug: "zh/api/ad-spend-api"
sidebar-position: 2
---

通过合作伙伴广告支出 API，您可以发送与推广活动关联的广告成本信息。API 需要与推广活动关联的成本 ID 才能进行跟踪。

要设置广告支出 API：

1. 设置成本 ID

   **成本 ID** 是唯一成本交互标识符，Adjust 使用这一信息匹配成本数据与点击或展示。请查看[设置成本 ID 一文](/zh/api/ad-spend-api/cost-id)，了解设置方法。

2. 设置 API 集成

   Adjust 通过 `/cost` 终端接收广告支出数据。按照 [广告支出成本终端](/zh/api/ad-spend-api/cost-endpoint) 一文中的说明设置您的 POST 请求。

3. 测试并完成 Adjust 集成

   完成服务器配置，可发送所需的参数后，请联系 [wizards@adjust.com](mailto:wizards@adjust.com)，Adjust 将为您准备集成测试。

   Adjust 会为您提供一系列测试，以便您查看不同成本类型的误差情况，并在集成上线之前及时发现潜在的问题。我们还会针对 Adjust API 进行测试，确保 API 集成顺利进行并能正常运作。

   在测试通过、获得满意结果后，Adjust 会将您纳入已集成广告支出合作伙伴名单中，自此，您便会成为 Adjust 官方广告支出 API 合作伙伴。

## [成本 ID](cost-id)

**成本 ID** 是长度在 12 \- 256 个字符的唯一成本交互标识符。Adjust 使用 `cost_id` 参数将收到的成本数据与点击或展示相匹配。

若要在广告支出 API 中使用 `cost_id`，请考虑下列几方面的问题：

-  为了避免与 Adjust 其他渠道合作伙伴的值错误匹配， `cost_id` 的值必须是唯一的。Adjust 建议您使用 UUID \(通用唯一标识符\)，或在 ID 上加入您公司名称的前缀。例如：`network_name_848dsf4939fgwjn028erg4`。
-  您可以使用已有的 `click_id` 或 `impression_id`。如果您不生成自己的点击或展示 ID，则可以将两个或多个占位符组合在一起构建 ID。例如，对于 CPI，您可以将用户 IDFA \(广告主 ID\) 和应用 ID 组合在一起。

### 使用 Adjust 监测 CPM

若要向 Adjust 发送 CPM \(每千次展示成本\) 数据，您可通过展示跟踪链接发送 `cost_id`，并将其引用在广告支出 API 调用中。请确保随每个展示发送 CPM。

## [终端](endpoint)

<CodeBlock title="终端" highlight="/cost">

```http
POST https://app.adjust.com/cost
```

</CodeBlock>

### [POST 请求](post-request)

POST 方法可通过 `cost_id` 发送推广活动的成本信息。

<Callout type="important">

广告支出 API 无法处理大写字母。请确认输入的所有参数均为小写。

</Callout>

#### [参数](parameters)

<Table search>

| 参数              | 数据类型 | 位置 | 描述                                                                                                                                                |
| ----------------- | -------- | ---- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| `cost_type`\*     | `String` | 查询 | 价格模型。`cpc` \| `cpi` \| `cpe` \| `cpm`                                                                                                          |
| `cost_currency`\* | `String` | 查询 | [ISO 4217](https://www.iban.com/currency-codes) 货币代码。请参阅我们[支持币种的完整清单](https://help.adjust.com/zh/article/supported-currencies)。 |
| `cost_id`\*       | `String` | 查询 | 将成本数据和交互进行匹配的唯一值。长度必须在 12 \- 256 个字符之间。                                                                                 |
| `tag`\*           | `String` | 查询 | 用于日志记录和调试的标签。最多 128 个字符                                                                                                           |

</Table>

## [示例](example)

<Callout type="tip">

不知道如何设置请求格式？欢迎发送邮件至 [wizards@adjust.com](mailto:wizards@adjust.com)，联系集成团队。

</Callout>
<CodeBlock title="cURL" highlight="cost_type, cost_currency, cost_amount, cost_id, tag">

```console
$ curl -X POST https://app.adjust.com/cost \
-d "cost_type=cpi&cost_currency=usd&cost_amount=2&cost_id=abc123_company_name_test_1&tag=company_name_test"
```

</CodeBlock>

## [响应](responses)

请查看下方可能的服务器响应列表：

<Table>

| 代码  | 响应                             |
| ----- | -------------------------------- |
| `200` | 成功响应 \(successful response\) |
| `400` | 错误请求 \(Bad request\)         |
| `401` | 未授权 \(Unauthorized\)          |
| `403` | 禁止 \(Forbidden\)               |

</Table>
