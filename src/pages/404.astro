---
import FooterMain from "@components/Layout/Footer/FooterMain.astro";
import HeadCommon from "@components/HeadCommon.astro";
import HeadSEO from "@components/HeadSEO.astro";
import MainHeader from "@components/Layout/Header/MainHeader.astro";
import MobileHeader from "@components/Layout/Header/MobileHeader.astro";
import { SITE } from "src/consts";
import BodyNoScript from "@components/Layout/GoogleTagManager/BodyNoScript.astro";
import errorAstronaut from "@images/errorAstronaut.svg";
import type { Locales } from "@i18n/locales";
import { getLanguageFromURL, useTranslations } from "@i18n/utils";
const currentPage = Astro.url.pathname;
const currentLang = getLanguageFromURL(currentPage);
import { marked } from "marked";

const t = useTranslations(currentLang as keyof Locales);

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<head>
  <HeadCommon />
  <HeadSEO canonicalUrl={canonicalURL} />
  <title>{t("site.title")}</title>
</head>
<body class="font-body xs:w-full xxl:w-[1600px] mx-auto bg-body-main">
  <BodyNoScript />
  <MainHeader />
  <MobileHeader />
  <main class="bg-white xxl:overflow-hidden xxl:h-full">
    <div class="flex flex-col justify-between w-full mb-14 relative">
      <div class="pt-4 flex justify-center flex-col">
        <div class="w-full md:min-h-[37.5rem] relative">
          <img src={errorAstronaut.src} class="mx-auto" />
        </div>
        <p class="self-center md:-mt-[7.5rem]">
          <span
            class="font-semibold xs:text-5xl md:text-[8.125rem] md:leading-[inherit] text-[rgb(11_88_254/1)]"
            >404</span
          >
        </p>
        <h3 class="text-base text-center">{t("page-404.header")}</h3>
        <div class="text-base text-center px-4">
          <span
            class="[&>p>a]:text-link-active [&>p>a]:underline"
            set:html={marked.parse(t("page-404.first-line"))}
          />
        </div>
      </div>
    </div>
  </main>
  <FooterMain language={currentLang as string} />
</body>

<style>
  a {
    @apply text-link-active underline;
  }
</style>
