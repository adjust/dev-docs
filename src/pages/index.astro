<script is:inline>
  const KNOWN_LANGUAGE_CODES = ["en-US", "en", "zh", "zh-CN", "ja", "ko"];

  const userLang = navigator.languages?.find(
    (lang) => !!KNOWN_LANGUAGE_CODES.find((knownLang) => knownLang === lang),
  );
  // fix for the en-US, zh-CN, etc.
  const userLangFixed = userLang.length === 5 ? userLang.slice(0, 2) : userLang;
  // Redirect homepage to the landing page.
  window.location.pathname = `${userLangFixed ?? "en"}`;
</script>
