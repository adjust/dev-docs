---
import { Badge as AtlasBadge, type IconName } from "@adjust/components";

export interface Props {
  added?: string;
  changed?: string;
  removed?: string;
}

const { added, changed, removed } = Astro.props as Props;

let badgeIcon: IconName = "Info";
let version: string | undefined;
let color: BadgeColor = "neutral";

if (added) {
  version = `Added in ${added}`;
  badgeIcon = "Check";
  color = "positive";
}

if (changed) {
  version = `Changed in ${changed}`;
  badgeIcon = "Negative";
  color = "warning";
}

if (removed) {
  version = `Deprecated in ${removed}`;
  badgeIcon = "Cross";
  color = "negative";
}
---

<AtlasBadge
  client:only="react"
  color={color}
  iconName={badgeIcon}
  label={version}
  css={{ marginBottom: "1rem" }}
  allowFullWidth
/>
<slot />
