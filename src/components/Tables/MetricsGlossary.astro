---
import glossary from "@data/glossary.json";
import BuildMetricTable from "@components/atlas/BuildMetricTable";

export interface Props {
  section?: string;
  search: boolean;
  resizable: boolean;
  noborder: boolean;
  noflex: boolean;
  striped: boolean;
  height?: TableHeights;
}

const {
  search = false,
  resizable = false,
  noborder = false,
  noflex = false,
  striped = false,
  height = undefined,
} = Astro.props as Props;

const data: ColumnCell[] = glossary.glossary.map((i) => {
  return {
    metric: i.id,
    name: i.name,
    data_type: i.formatting,
    description: i.description,
    section: i.section,
  };
});

let heightNumber = isNaN(Number(height));
---

<BuildMetricTable
  client:only="react"
  data={data}
  resizable={resizable}
  bordered={!noborder}
  search={search}
  flex={!noflex && !resizable}
  striped={striped}
  height={!heightNumber ? Number(height) : height}
/>
