---
import BuildBanner from "@components/atlas/BuildBanner.jsx";

declare type BannerKind =
  | "neutral"
  | "positive"
  | "warning"
  | "negative"
  | "primary";

export interface Props {
  type?: string;
  title?: string;
}

let typeMap = new Map<String, BannerKind>([
  ["info", "neutral"],
  ["note", "primary"],
  ["tip", "positive"],
  ["seealso", "positive"],
  ["important", "warning"],
  ["warning", "negative"],
]);

const { type = "neutral", title } = Astro.props as Props;

let bannerType: BannerKind = typeMap.get(type) || "neutral";

let description = "";

let placeholderTitle = type[0].toUpperCase() + type.slice(1);

if (Astro.slots.has("default")) {
  description = await Astro.slots.render("default");
}
---

<BuildBanner
  client:only="react"
  title={title || placeholderTitle}
  kind={bannerType}
  description={description}
/>
